ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"at32f435_437_usb.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.usb_global_reset,"ax",%progbits
  18              		.align	1
  19              		.global	usb_global_reset
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	usb_global_reset:
  25              	.LVL0:
  26              	.LFB133:
  27              		.file 1 "bsp/libraries/drivers/src/at32f435_437_usb.c"
   1:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
   2:bsp/libraries/drivers/src/at32f435_437_usb.c ****   **************************************************************************
   3:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @file     at32f435_437_usb.c
   4:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief    contains all the functions for the usb firmware library
   5:bsp/libraries/drivers/src/at32f435_437_usb.c ****   **************************************************************************
   6:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *                       Copyright notice & Disclaimer
   7:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *
   8:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * The software Board Support Package (BSP) that is made available to
   9:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * download from Artery official website is the copyrighted work of Artery.
  10:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * Artery authorizes customers to use, copy, and distribute the BSP
  11:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * software and its related documentation for the purpose of design and
  12:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * development in conjunction with Artery microcontrollers. Use of the
  13:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * software is governed by this copyright notice and the following disclaimer.
  14:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *
  15:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * THIS SOFTWARE IS PROVIDED ON "AS IS" BASIS WITHOUT WARRANTIES,
  16:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * GUARANTEES OR REPRESENTATIONS OF ANY KIND. ARTERY EXPRESSLY DISCLAIMS,
  17:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * TO THE FULLEST EXTENT PERMITTED BY LAW, ALL EXPRESS, IMPLIED OR
  18:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * STATUTORY OR OTHER WARRANTIES, GUARANTEES OR REPRESENTATIONS,
  19:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * INCLUDING BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
  20:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT.
  21:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *
  22:bsp/libraries/drivers/src/at32f435_437_usb.c ****   **************************************************************************
  23:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
  24:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
  25:bsp/libraries/drivers/src/at32f435_437_usb.c **** #include "at32f435_437_conf.h"
  26:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
  27:bsp/libraries/drivers/src/at32f435_437_usb.c **** /** @addtogroup AT32F435_437_periph_driver
  28:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @{
  29:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
  30:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
  31:bsp/libraries/drivers/src/at32f435_437_usb.c **** /** @defgroup USB
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 2


  32:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief USB driver modules
  33:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @{
  34:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
  35:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
  36:bsp/libraries/drivers/src/at32f435_437_usb.c **** #ifdef USB_MODULE_ENABLED
  37:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
  38:bsp/libraries/drivers/src/at32f435_437_usb.c **** /** @defgroup USB_private_functions
  39:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @{
  40:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
  41:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
  42:bsp/libraries/drivers/src/at32f435_437_usb.c **** #ifdef OTGFS_USB_GLOBAL
  43:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
  44:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  usb global core soft reset
  45:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
  46:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
  47:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
  48:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
  49:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval error status
  50:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
  51:bsp/libraries/drivers/src/at32f435_437_usb.c **** error_status usb_global_reset(otg_global_type *usbx)
  52:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
  28              		.loc 1 52 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  53:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t timeout = 0;
  33              		.loc 1 53 3 view .LVU1
  54:bsp/libraries/drivers/src/at32f435_437_usb.c ****   while(usbx->grstctl_bit.ahbidle == RESET)
  34              		.loc 1 54 3 view .LVU2
  53:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t timeout = 0;
  35              		.loc 1 53 12 is_stmt 0 view .LVU3
  36 0000 0023     		movs	r3, #0
  37              	.LVL1:
  38              	.L2:
  39              		.loc 1 54 8 is_stmt 1 view .LVU4
  40              		.loc 1 54 26 is_stmt 0 view .LVU5
  41 0002 0269     		ldr	r2, [r0, #16]
  42              		.loc 1 54 8 view .LVU6
  43 0004 002A     		cmp	r2, #0
  44 0006 05DB     		blt	.L3
  55:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
  56:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(timeout ++ > 200000)
  45              		.loc 1 56 5 is_stmt 1 view .LVU7
  46              		.loc 1 56 16 is_stmt 0 view .LVU8
  47 0008 591C     		adds	r1, r3, #1
  48              	.LVL2:
  49              		.loc 1 56 7 view .LVU9
  50 000a 0B4A     		ldr	r2, .L8
  51 000c 9342     		cmp	r3, r2
  52 000e 01D8     		bhi	.L3
  53              		.loc 1 56 16 view .LVU10
  54 0010 0B46     		mov	r3, r1
  55 0012 F6E7     		b	.L2
  56              	.LVL3:
  57              	.L3:
  57:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 3


  58:bsp/libraries/drivers/src/at32f435_437_usb.c ****       break;
  59:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
  60:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
  61:bsp/libraries/drivers/src/at32f435_437_usb.c ****   timeout = 0;
  58              		.loc 1 61 3 is_stmt 1 view .LVU11
  62:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->grstctl_bit.csftrst = TRUE;
  59              		.loc 1 62 3 view .LVU12
  60              		.loc 1 62 29 is_stmt 0 view .LVU13
  61 0014 0369     		ldr	r3, [r0, #16]
  62 0016 43F00103 		orr	r3, r3, #1
  63 001a 0361     		str	r3, [r0, #16]
  63:bsp/libraries/drivers/src/at32f435_437_usb.c ****   while(usbx->grstctl_bit.csftrst == SET)
  64              		.loc 1 63 3 is_stmt 1 view .LVU14
  61:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->grstctl_bit.csftrst = TRUE;
  65              		.loc 1 61 11 is_stmt 0 view .LVU15
  66 001c 0023     		movs	r3, #0
  67              	.LVL4:
  68              	.L5:
  69              		.loc 1 63 8 is_stmt 1 view .LVU16
  70              		.loc 1 63 26 is_stmt 0 view .LVU17
  71 001e 0269     		ldr	r2, [r0, #16]
  72              		.loc 1 63 8 view .LVU18
  73 0020 12F0010F 		tst	r2, #1
  74 0024 05D0     		beq	.L6
  64:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
  65:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(timeout ++ > 200000)
  75              		.loc 1 65 5 is_stmt 1 view .LVU19
  76              		.loc 1 65 16 is_stmt 0 view .LVU20
  77 0026 591C     		adds	r1, r3, #1
  78              	.LVL5:
  79              		.loc 1 65 7 view .LVU21
  80 0028 034A     		ldr	r2, .L8
  81 002a 9342     		cmp	r3, r2
  82 002c 01D8     		bhi	.L6
  83              		.loc 1 65 16 view .LVU22
  84 002e 0B46     		mov	r3, r1
  85 0030 F5E7     		b	.L5
  86              	.LVL6:
  87              	.L6:
  66:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
  67:bsp/libraries/drivers/src/at32f435_437_usb.c ****       break;
  68:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
  69:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
  70:bsp/libraries/drivers/src/at32f435_437_usb.c ****   return SUCCESS;
  88              		.loc 1 70 3 is_stmt 1 view .LVU23
  71:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
  89              		.loc 1 71 1 is_stmt 0 view .LVU24
  90 0032 0120     		movs	r0, #1
  91              	.LVL7:
  92              		.loc 1 71 1 view .LVU25
  93 0034 7047     		bx	lr
  94              	.L9:
  95 0036 00BF     		.align	2
  96              	.L8:
  97 0038 400D0300 		.word	200000
  98              		.cfi_endproc
  99              	.LFE133:
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 4


 101              		.section	.text.usb_global_init,"ax",%progbits
 102              		.align	1
 103              		.global	usb_global_init
 104              		.syntax unified
 105              		.thumb
 106              		.thumb_func
 108              	usb_global_init:
 109              	.LVL8:
 110              	.LFB134:
  72:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
  73:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
  74:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  usb global initialization
  75:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
  76:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
  77:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
  78:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
  79:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
  80:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
  81:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_global_init(otg_global_type *usbx)
  82:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 111              		.loc 1 82 1 is_stmt 1 view -0
 112              		.cfi_startproc
 113              		@ args = 0, pretend = 0, frame = 0
 114              		@ frame_needed = 0, uses_anonymous_args = 0
 115              		.loc 1 82 1 is_stmt 0 view .LVU27
 116 0000 10B5     		push	{r4, lr}
 117              	.LCFI0:
 118              		.cfi_def_cfa_offset 8
 119              		.cfi_offset 4, -8
 120              		.cfi_offset 14, -4
 121 0002 0446     		mov	r4, r0
  83:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* reset otg moudle */
  84:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usb_global_reset(usbx);
 122              		.loc 1 84 3 is_stmt 1 view .LVU28
 123 0004 FFF7FEFF 		bl	usb_global_reset
 124              	.LVL9:
  85:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
  86:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* exit power down mode */
  87:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->gccfg_bit.pwrdown = TRUE;
 125              		.loc 1 87 3 view .LVU29
 126              		.loc 1 87 27 is_stmt 0 view .LVU30
 127 0008 A36B     		ldr	r3, [r4, #56]
 128 000a 43F48033 		orr	r3, r3, #65536
 129 000e A363     		str	r3, [r4, #56]
  88:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 130              		.loc 1 88 1 view .LVU31
 131 0010 10BD     		pop	{r4, pc}
 132              		.loc 1 88 1 view .LVU32
 133              		.cfi_endproc
 134              	.LFE134:
 136              		.section	.text.usb_global_select_core,"ax",%progbits
 137              		.align	1
 138              		.global	usb_global_select_core
 139              		.syntax unified
 140              		.thumb
 141              		.thumb_func
 143              	usb_global_select_core:
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 5


 144              	.LVL10:
 145              	.LFB135:
  89:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
  90:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
  91:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  usb global select usb core (otg1 or otg2).
  92:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usb_id: select otg1 or otg2
  93:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
  94:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG1_ID
  95:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG2_ID
  96:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval usb global register type pointer
  97:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
  98:bsp/libraries/drivers/src/at32f435_437_usb.c **** otg_global_type *usb_global_select_core(uint8_t usb_id)
  99:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 146              		.loc 1 99 1 is_stmt 1 view -0
 147              		.cfi_startproc
 148              		@ args = 0, pretend = 0, frame = 0
 149              		@ frame_needed = 0, uses_anonymous_args = 0
 150              		@ link register save eliminated.
 100:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(usb_id == USB_OTG1_ID)
 151              		.loc 1 100 3 view .LVU34
 152              		.loc 1 100 5 is_stmt 0 view .LVU35
 153 0000 10B9     		cbnz	r0, .L14
 101:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 102:bsp/libraries/drivers/src/at32f435_437_usb.c ****     /* use otg1 */
 103:bsp/libraries/drivers/src/at32f435_437_usb.c ****     return OTG1_GLOBAL;
 154              		.loc 1 103 12 view .LVU36
 155 0002 4FF0A040 		mov	r0, #1342177280
 156              	.LVL11:
 157              		.loc 1 103 12 view .LVU37
 158 0006 7047     		bx	lr
 159              	.LVL12:
 160              	.L14:
 104:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 105:bsp/libraries/drivers/src/at32f435_437_usb.c ****   else
 106:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 107:bsp/libraries/drivers/src/at32f435_437_usb.c ****     /* use otg2 */
 108:bsp/libraries/drivers/src/at32f435_437_usb.c ****     return OTG2_GLOBAL;
 161              		.loc 1 108 12 view .LVU38
 162 0008 0048     		ldr	r0, .L15
 163              	.LVL13:
 109:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 110:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 164              		.loc 1 110 1 view .LVU39
 165 000a 7047     		bx	lr
 166              	.L16:
 167              		.align	2
 168              	.L15:
 169 000c 00000440 		.word	1074003968
 170              		.cfi_endproc
 171              	.LFE135:
 173              		.section	.text.usb_flush_tx_fifo,"ax",%progbits
 174              		.align	1
 175              		.global	usb_flush_tx_fifo
 176              		.syntax unified
 177              		.thumb
 178              		.thumb_func
 180              	usb_flush_tx_fifo:
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 6


 181              	.LVL14:
 182              	.LFB136:
 111:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 112:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 113:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  flush tx fifo
 114:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 115:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 116:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 117:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 118:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  fifo_num: tx fifo num,when fifo_num=16,flush all tx fifo
 119:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         parameter as following values: 0-16
 120:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 121:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 122:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_flush_tx_fifo(otg_global_type *usbx, uint32_t fifo_num)
 123:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 183              		.loc 1 123 1 is_stmt 1 view -0
 184              		.cfi_startproc
 185              		@ args = 0, pretend = 0, frame = 0
 186              		@ frame_needed = 0, uses_anonymous_args = 0
 187              		@ link register save eliminated.
 124:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t timeout = 0;
 188              		.loc 1 124 3 view .LVU41
 125:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* set flush fifo number */
 126:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->grstctl_bit.txfnum = fifo_num;
 189              		.loc 1 126 3 view .LVU42
 190              		.loc 1 126 28 is_stmt 0 view .LVU43
 191 0000 0369     		ldr	r3, [r0, #16]
 192 0002 61F38A13 		bfi	r3, r1, #6, #5
 193 0006 0361     		str	r3, [r0, #16]
 127:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 128:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* start flush fifo */
 129:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->grstctl_bit.txfflsh = TRUE;
 194              		.loc 1 129 3 is_stmt 1 view .LVU44
 195              		.loc 1 129 29 is_stmt 0 view .LVU45
 196 0008 0369     		ldr	r3, [r0, #16]
 197 000a 43F02003 		orr	r3, r3, #32
 198 000e 0361     		str	r3, [r0, #16]
 130:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 131:bsp/libraries/drivers/src/at32f435_437_usb.c ****   while(usbx->grstctl_bit.txfflsh == TRUE)
 199              		.loc 1 131 3 is_stmt 1 view .LVU46
 124:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* set flush fifo number */
 200              		.loc 1 124 12 is_stmt 0 view .LVU47
 201 0010 0023     		movs	r3, #0
 202              	.LVL15:
 203              	.L18:
 204              		.loc 1 131 8 is_stmt 1 view .LVU48
 205              		.loc 1 131 26 is_stmt 0 view .LVU49
 206 0012 0269     		ldr	r2, [r0, #16]
 207              		.loc 1 131 8 view .LVU50
 208 0014 12F0200F 		tst	r2, #32
 209 0018 05D0     		beq	.L17
 132:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 133:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(timeout ++ > 200000)
 210              		.loc 1 133 5 is_stmt 1 view .LVU51
 211              		.loc 1 133 16 is_stmt 0 view .LVU52
 212 001a 591C     		adds	r1, r3, #1
 213              	.LVL16:
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 7


 214              		.loc 1 133 7 view .LVU53
 215 001c 024A     		ldr	r2, .L21
 216 001e 9342     		cmp	r3, r2
 217 0020 01D8     		bhi	.L17
 218              		.loc 1 133 16 view .LVU54
 219 0022 0B46     		mov	r3, r1
 220 0024 F5E7     		b	.L18
 221              	.LVL17:
 222              	.L17:
 134:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 135:bsp/libraries/drivers/src/at32f435_437_usb.c ****       break;
 136:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 137:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 138:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 223              		.loc 1 138 1 view .LVU55
 224 0026 7047     		bx	lr
 225              	.L22:
 226              		.align	2
 227              	.L21:
 228 0028 400D0300 		.word	200000
 229              		.cfi_endproc
 230              	.LFE136:
 232              		.section	.text.usb_flush_rx_fifo,"ax",%progbits
 233              		.align	1
 234              		.global	usb_flush_rx_fifo
 235              		.syntax unified
 236              		.thumb
 237              		.thumb_func
 239              	usb_flush_rx_fifo:
 240              	.LVL18:
 241              	.LFB137:
 139:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 140:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 141:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  flush rx fifo
 142:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 143:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 144:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 145:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 146:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 147:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 148:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_flush_rx_fifo(otg_global_type *usbx)
 149:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 242              		.loc 1 149 1 is_stmt 1 view -0
 243              		.cfi_startproc
 244              		@ args = 0, pretend = 0, frame = 0
 245              		@ frame_needed = 0, uses_anonymous_args = 0
 246              		@ link register save eliminated.
 150:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t timeout = 0;
 247              		.loc 1 150 3 view .LVU57
 151:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->grstctl_bit.rxfflsh = TRUE;
 248              		.loc 1 151 3 view .LVU58
 249              		.loc 1 151 29 is_stmt 0 view .LVU59
 250 0000 0369     		ldr	r3, [r0, #16]
 251 0002 43F01003 		orr	r3, r3, #16
 252 0006 0361     		str	r3, [r0, #16]
 152:bsp/libraries/drivers/src/at32f435_437_usb.c ****   while(usbx->grstctl_bit.rxfflsh == TRUE)
 253              		.loc 1 152 3 is_stmt 1 view .LVU60
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 8


 150:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t timeout = 0;
 254              		.loc 1 150 12 is_stmt 0 view .LVU61
 255 0008 0023     		movs	r3, #0
 256              	.LVL19:
 257              	.L24:
 258              		.loc 1 152 8 is_stmt 1 view .LVU62
 259              		.loc 1 152 26 is_stmt 0 view .LVU63
 260 000a 0269     		ldr	r2, [r0, #16]
 261              		.loc 1 152 8 view .LVU64
 262 000c 12F0100F 		tst	r2, #16
 263 0010 05D0     		beq	.L23
 153:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 154:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(timeout ++ > 200000)
 264              		.loc 1 154 5 is_stmt 1 view .LVU65
 265              		.loc 1 154 16 is_stmt 0 view .LVU66
 266 0012 591C     		adds	r1, r3, #1
 267              	.LVL20:
 268              		.loc 1 154 7 view .LVU67
 269 0014 024A     		ldr	r2, .L27
 270 0016 9342     		cmp	r3, r2
 271 0018 01D8     		bhi	.L23
 272              		.loc 1 154 16 view .LVU68
 273 001a 0B46     		mov	r3, r1
 274 001c F5E7     		b	.L24
 275              	.LVL21:
 276              	.L23:
 155:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 156:bsp/libraries/drivers/src/at32f435_437_usb.c ****       break;
 157:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 158:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 159:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 277              		.loc 1 159 1 view .LVU69
 278 001e 7047     		bx	lr
 279              	.L28:
 280              		.align	2
 281              	.L27:
 282 0020 400D0300 		.word	200000
 283              		.cfi_endproc
 284              	.LFE137:
 286              		.section	.text.usb_global_interrupt_enable,"ax",%progbits
 287              		.align	1
 288              		.global	usb_global_interrupt_enable
 289              		.syntax unified
 290              		.thumb
 291              		.thumb_func
 293              	usb_global_interrupt_enable:
 294              	.LVL22:
 295              	.LFB138:
 160:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 161:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 162:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  usb interrupt mask enable
 163:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 164:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 165:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 166:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 167:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  interrupt:
 168:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be any combination of the following values:
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 9


 169:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_MODEMIS_INT
 170:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_OTGINT_INT
 171:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_SOF_INT
 172:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_RXFLVL_INT
 173:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_NPTXFEMP_INT
 174:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_GINNAKEFF_INT
 175:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_GOUTNAKEFF_INT
 176:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_ERLYSUSP_INT
 177:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_USBSUSP_INT
 178:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_USBRST_INT
 179:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_ENUMDONE_INT
 180:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_ISOOUTDROP_INT
 181:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_IEPT_INT
 182:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_OEPT_INT
 183:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_INCOMISOIN_INT
 184:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_INCOMPIP_INCOMPISOOUT_INT
 185:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_PRT_INT
 186:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_HCH_INT
 187:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_PTXFEMP_INT
 188:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_CONIDSCHG_INT
 189:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DISCON_INT
 190:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_WKUP_INT
 191:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  new_state: TRUE or FALSE
 192:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 193:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 194:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_global_interrupt_enable(otg_global_type *usbx, uint16_t interrupt, confirm_state new_state
 195:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 296              		.loc 1 195 1 is_stmt 1 view -0
 297              		.cfi_startproc
 298              		@ args = 0, pretend = 0, frame = 0
 299              		@ frame_needed = 0, uses_anonymous_args = 0
 300              		@ link register save eliminated.
 196:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(new_state == TRUE)
 301              		.loc 1 196 3 view .LVU71
 302              		.loc 1 196 5 is_stmt 0 view .LVU72
 303 0000 012A     		cmp	r2, #1
 304 0002 04D0     		beq	.L32
 197:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 198:bsp/libraries/drivers/src/at32f435_437_usb.c ****      usbx->gintmsk |= interrupt;
 199:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 200:bsp/libraries/drivers/src/at32f435_437_usb.c ****   else
 201:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 202:bsp/libraries/drivers/src/at32f435_437_usb.c ****      usbx->gintmsk &= ~interrupt;
 305              		.loc 1 202 6 is_stmt 1 view .LVU73
 306              		.loc 1 202 20 is_stmt 0 view .LVU74
 307 0004 8369     		ldr	r3, [r0, #24]
 308 0006 23EA0101 		bic	r1, r3, r1
 309              	.LVL23:
 310              		.loc 1 202 20 view .LVU75
 311 000a 8161     		str	r1, [r0, #24]
 203:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 204:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 312              		.loc 1 204 1 view .LVU76
 313 000c 7047     		bx	lr
 314              	.LVL24:
 315              	.L32:
 198:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 10


 316              		.loc 1 198 6 is_stmt 1 view .LVU77
 198:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 317              		.loc 1 198 20 is_stmt 0 view .LVU78
 318 000e 8369     		ldr	r3, [r0, #24]
 319 0010 1943     		orrs	r1, r1, r3
 320              	.LVL25:
 198:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 321              		.loc 1 198 20 view .LVU79
 322 0012 8161     		str	r1, [r0, #24]
 323 0014 7047     		bx	lr
 324              		.cfi_endproc
 325              	.LFE138:
 327              		.section	.text.usb_global_get_all_interrupt,"ax",%progbits
 328              		.align	1
 329              		.global	usb_global_get_all_interrupt
 330              		.syntax unified
 331              		.thumb
 332              		.thumb_func
 334              	usb_global_get_all_interrupt:
 335              	.LVL26:
 336              	.LFB139:
 205:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 206:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 207:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  get all global core interrupt flag
 208:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 209:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 210:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 211:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 212:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval intterupt flag
 213:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 214:bsp/libraries/drivers/src/at32f435_437_usb.c **** uint32_t usb_global_get_all_interrupt(otg_global_type *usbx)
 215:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 337              		.loc 1 215 1 is_stmt 1 view -0
 338              		.cfi_startproc
 339              		@ args = 0, pretend = 0, frame = 0
 340              		@ frame_needed = 0, uses_anonymous_args = 0
 341              		@ link register save eliminated.
 216:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t intsts = usbx->gintsts;
 342              		.loc 1 216 3 view .LVU81
 343              		.loc 1 216 12 is_stmt 0 view .LVU82
 344 0000 4369     		ldr	r3, [r0, #20]
 345              	.LVL27:
 217:bsp/libraries/drivers/src/at32f435_437_usb.c ****   return intsts & usbx->gintmsk;
 346              		.loc 1 217 3 is_stmt 1 view .LVU83
 347              		.loc 1 217 23 is_stmt 0 view .LVU84
 348 0002 8069     		ldr	r0, [r0, #24]
 349              	.LVL28:
 218:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 350              		.loc 1 218 1 view .LVU85
 351 0004 1840     		ands	r0, r0, r3
 352 0006 7047     		bx	lr
 353              		.cfi_endproc
 354              	.LFE139:
 356              		.section	.text.usb_global_clear_interrupt,"ax",%progbits
 357              		.align	1
 358              		.global	usb_global_clear_interrupt
 359              		.syntax unified
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 11


 360              		.thumb
 361              		.thumb_func
 363              	usb_global_clear_interrupt:
 364              	.LVL29:
 365              	.LFB140:
 219:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 220:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 221:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  clear the global interrupt flag
 222:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 223:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 224:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 225:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 226:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  flag: interrupt flag
 227:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be any combination of the following values:
 228:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_MODEMIS_FLAG
 229:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_OTGINT_FLAG
 230:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_SOF_FLAG
 231:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_RXFLVL_FLAG
 232:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_NPTXFEMP_FLAG
 233:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_GINNAKEFF_FLAG
 234:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_GOUTNAKEFF_FLAG
 235:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_ERLYSUSP_FLAG
 236:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_USBSUSP_FLAG
 237:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_USBRST_FLAG
 238:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_ENUMDONE_FLAG
 239:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_ISOOUTDROP_FLAG
 240:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_EOPF_FLAG
 241:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_IEPT_FLAG
 242:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_OEPT_FLAG
 243:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_INCOMISOIN_FLAG
 244:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_INCOMPIP_INCOMPISOOUT_FLAG
 245:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_PRT_FLAG
 246:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_HCH_FLAG
 247:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_PTXFEMP_FLAG
 248:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_CONIDSCHG_FLAG
 249:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DISCON_FLAG
 250:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_WKUP_FLAG
 251:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 252:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 253:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_global_clear_interrupt(otg_global_type *usbx, uint32_t flag)
 254:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 366              		.loc 1 254 1 is_stmt 1 view -0
 367              		.cfi_startproc
 368              		@ args = 0, pretend = 0, frame = 0
 369              		@ frame_needed = 0, uses_anonymous_args = 0
 370              		@ link register save eliminated.
 255:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->gintsts = flag;
 371              		.loc 1 255 3 view .LVU87
 372              		.loc 1 255 17 is_stmt 0 view .LVU88
 373 0000 4161     		str	r1, [r0, #20]
 256:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 374              		.loc 1 256 1 view .LVU89
 375 0002 7047     		bx	lr
 376              		.cfi_endproc
 377              	.LFE140:
 379              		.section	.text.usb_interrupt_enable,"ax",%progbits
 380              		.align	1
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 12


 381              		.global	usb_interrupt_enable
 382              		.syntax unified
 383              		.thumb
 384              		.thumb_func
 386              	usb_interrupt_enable:
 387              	.LVL30:
 388              	.LFB141:
 257:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 258:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 259:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  usb global interrupt enable
 260:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 261:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 262:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         OTG1_GLOBAL , OTG2_GLOBAL
 263:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 264:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 265:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_interrupt_enable(otg_global_type *usbx)
 266:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 389              		.loc 1 266 1 is_stmt 1 view -0
 390              		.cfi_startproc
 391              		@ args = 0, pretend = 0, frame = 0
 392              		@ frame_needed = 0, uses_anonymous_args = 0
 393              		@ link register save eliminated.
 267:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->gahbcfg_bit.glbintmsk = TRUE;
 394              		.loc 1 267 3 view .LVU91
 395              		.loc 1 267 31 is_stmt 0 view .LVU92
 396 0000 8368     		ldr	r3, [r0, #8]
 397 0002 43F00103 		orr	r3, r3, #1
 398 0006 8360     		str	r3, [r0, #8]
 268:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 399              		.loc 1 268 1 view .LVU93
 400 0008 7047     		bx	lr
 401              		.cfi_endproc
 402              	.LFE141:
 404              		.section	.text.usb_interrupt_disable,"ax",%progbits
 405              		.align	1
 406              		.global	usb_interrupt_disable
 407              		.syntax unified
 408              		.thumb
 409              		.thumb_func
 411              	usb_interrupt_disable:
 412              	.LVL31:
 413              	.LFB142:
 269:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 270:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 271:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  usb global interrupt disable
 272:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 273:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 274:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 275:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 276:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 277:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 278:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_interrupt_disable(otg_global_type *usbx)
 279:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 414              		.loc 1 279 1 is_stmt 1 view -0
 415              		.cfi_startproc
 416              		@ args = 0, pretend = 0, frame = 0
 417              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 13


 418              		@ link register save eliminated.
 280:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->gahbcfg_bit.glbintmsk = FALSE;
 419              		.loc 1 280 3 view .LVU95
 420              		.loc 1 280 31 is_stmt 0 view .LVU96
 421 0000 8368     		ldr	r3, [r0, #8]
 422 0002 6FF30003 		bfc	r3, #0, #1
 423 0006 8360     		str	r3, [r0, #8]
 281:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 424              		.loc 1 281 1 view .LVU97
 425 0008 7047     		bx	lr
 426              		.cfi_endproc
 427              	.LFE142:
 429              		.section	.text.usb_set_rx_fifo,"ax",%progbits
 430              		.align	1
 431              		.global	usb_set_rx_fifo
 432              		.syntax unified
 433              		.thumb
 434              		.thumb_func
 436              	usb_set_rx_fifo:
 437              	.LVL32:
 438              	.LFB143:
 282:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 283:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 284:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  usb set rx fifo size
 285:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 286:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 287:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 288:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 289:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  size: rx fifo size
 290:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 291:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 292:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_set_rx_fifo(otg_global_type *usbx, uint16_t size)
 293:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 439              		.loc 1 293 1 is_stmt 1 view -0
 440              		.cfi_startproc
 441              		@ args = 0, pretend = 0, frame = 0
 442              		@ frame_needed = 0, uses_anonymous_args = 0
 443              		@ link register save eliminated.
 294:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->grxfsiz = size;
 444              		.loc 1 294 3 view .LVU99
 445              		.loc 1 294 17 is_stmt 0 view .LVU100
 446 0000 4162     		str	r1, [r0, #36]
 295:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 447              		.loc 1 295 1 view .LVU101
 448 0002 7047     		bx	lr
 449              		.cfi_endproc
 450              	.LFE143:
 452              		.section	.text.usb_set_tx_fifo,"ax",%progbits
 453              		.align	1
 454              		.global	usb_set_tx_fifo
 455              		.syntax unified
 456              		.thumb
 457              		.thumb_func
 459              	usb_set_tx_fifo:
 460              	.LVL33:
 461              	.LFB144:
 296:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 14


 297:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 298:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  usb set tx fifo size
 299:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 300:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 301:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 302:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 303:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  txfifo: the fifo number
 304:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  size: tx fifo size
 305:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 306:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 307:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_set_tx_fifo(otg_global_type *usbx, uint8_t txfifo, uint16_t size)
 308:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 462              		.loc 1 308 1 is_stmt 1 view -0
 463              		.cfi_startproc
 464              		@ args = 0, pretend = 0, frame = 0
 465              		@ frame_needed = 0, uses_anonymous_args = 0
 309:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint8_t i_index = 0;
 466              		.loc 1 309 3 view .LVU103
 310:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t offset = 0;
 467              		.loc 1 310 3 view .LVU104
 311:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 312:bsp/libraries/drivers/src/at32f435_437_usb.c ****   offset = usbx->grxfsiz;
 468              		.loc 1 312 3 view .LVU105
 469              		.loc 1 312 10 is_stmt 0 view .LVU106
 470 0000 436A     		ldr	r3, [r0, #36]
 471              	.LVL34:
 313:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(txfifo == 0)
 472              		.loc 1 313 3 is_stmt 1 view .LVU107
 473              		.loc 1 313 5 is_stmt 0 view .LVU108
 474 0002 19B9     		cbnz	r1, .L39
 314:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 315:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usbx->gnptxfsiz_ept0tx = offset | (size << 16);
 475              		.loc 1 315 5 is_stmt 1 view .LVU109
 476              		.loc 1 315 37 is_stmt 0 view .LVU110
 477 0004 43EA0243 		orr	r3, r3, r2, lsl #16
 478              	.LVL35:
 479              		.loc 1 315 28 view .LVU111
 480 0008 8362     		str	r3, [r0, #40]
 481 000a 7047     		bx	lr
 482              	.LVL36:
 483              	.L39:
 308:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint8_t i_index = 0;
 484              		.loc 1 308 1 view .LVU112
 485 000c 00B5     		push	{lr}
 486              	.LCFI1:
 487              		.cfi_def_cfa_offset 4
 488              		.cfi_offset 14, -4
 489 000e 8E46     		mov	lr, r1
 316:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 317:bsp/libraries/drivers/src/at32f435_437_usb.c ****   else
 318:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 319:bsp/libraries/drivers/src/at32f435_437_usb.c ****     offset += usbx->gnptxfsiz_ept0tx_bit.nptxfdep;
 490              		.loc 1 319 5 is_stmt 1 view .LVU113
 491              		.loc 1 319 41 is_stmt 0 view .LVU114
 492 0010 816A     		ldr	r1, [r0, #40]
 493              	.LVL37:
 494              		.loc 1 319 12 view .LVU115
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 15


 495 0012 03EB114C 		add	ip, r3, r1, lsr #16
 496              	.LVL38:
 320:bsp/libraries/drivers/src/at32f435_437_usb.c ****     for(i_index = 0; i_index < (txfifo - 1); i_index ++)
 497              		.loc 1 320 5 is_stmt 1 view .LVU116
 498              		.loc 1 320 17 is_stmt 0 view .LVU117
 499 0016 0023     		movs	r3, #0
 500              		.loc 1 320 5 view .LVU118
 501 0018 08E0     		b	.L41
 502              	.LVL39:
 503              	.L42:
 321:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 322:bsp/libraries/drivers/src/at32f435_437_usb.c ****       offset += usbx->dieptxfn_bit[i_index].ineptxfdep;
 504              		.loc 1 322 7 is_stmt 1 discriminator 3 view .LVU119
 505              		.loc 1 322 44 is_stmt 0 discriminator 3 view .LVU120
 506 001a 03F14001 		add	r1, r3, #64
 507 001e 00EB8101 		add	r1, r0, r1, lsl #2
 508 0022 4968     		ldr	r1, [r1, #4]
 509              		.loc 1 322 14 discriminator 3 view .LVU121
 510 0024 0CEB114C 		add	ip, ip, r1, lsr #16
 511              	.LVL40:
 320:bsp/libraries/drivers/src/at32f435_437_usb.c ****     for(i_index = 0; i_index < (txfifo - 1); i_index ++)
 512              		.loc 1 320 46 is_stmt 1 discriminator 3 view .LVU122
 320:bsp/libraries/drivers/src/at32f435_437_usb.c ****     for(i_index = 0; i_index < (txfifo - 1); i_index ++)
 513              		.loc 1 320 54 is_stmt 0 discriminator 3 view .LVU123
 514 0028 0133     		adds	r3, r3, #1
 515              	.LVL41:
 320:bsp/libraries/drivers/src/at32f435_437_usb.c ****     for(i_index = 0; i_index < (txfifo - 1); i_index ++)
 516              		.loc 1 320 54 discriminator 3 view .LVU124
 517 002a DBB2     		uxtb	r3, r3
 518              	.LVL42:
 519              	.L41:
 320:bsp/libraries/drivers/src/at32f435_437_usb.c ****     for(i_index = 0; i_index < (txfifo - 1); i_index ++)
 520              		.loc 1 320 22 is_stmt 1 discriminator 1 view .LVU125
 320:bsp/libraries/drivers/src/at32f435_437_usb.c ****     for(i_index = 0; i_index < (txfifo - 1); i_index ++)
 521              		.loc 1 320 40 is_stmt 0 discriminator 1 view .LVU126
 522 002c 0EF1FF31 		add	r1, lr, #-1
 320:bsp/libraries/drivers/src/at32f435_437_usb.c ****     for(i_index = 0; i_index < (txfifo - 1); i_index ++)
 523              		.loc 1 320 5 discriminator 1 view .LVU127
 524 0030 8B42     		cmp	r3, r1
 525 0032 F2DB     		blt	.L42
 323:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 324:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usbx->dieptxfn[txfifo - 1] = offset | (size << 16);
 526              		.loc 1 324 5 is_stmt 1 view .LVU128
 527              		.loc 1 324 41 is_stmt 0 view .LVU129
 528 0034 4CEA0242 		orr	r2, ip, r2, lsl #16
 529              	.LVL43:
 530              		.loc 1 324 32 view .LVU130
 531 0038 0EF13F01 		add	r1, lr, #63
 532 003c 00EB8101 		add	r1, r0, r1, lsl #2
 533 0040 4A60     		str	r2, [r1, #4]
 325:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 326:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 534              		.loc 1 326 1 view .LVU131
 535 0042 5DF804FB 		ldr	pc, [sp], #4
 536              		.cfi_endproc
 537              	.LFE144:
 539              		.section	.text.usb_global_set_mode,"ax",%progbits
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 16


 540              		.align	1
 541              		.global	usb_global_set_mode
 542              		.syntax unified
 543              		.thumb
 544              		.thumb_func
 546              	usb_global_set_mode:
 547              	.LVL44:
 548              	.LFB145:
 327:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 328:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 329:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 330:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  set otg mode(device or host mode)
 331:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 332:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 333:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 334:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 335:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  mode:
 336:bsp/libraries/drivers/src/at32f435_437_usb.c ****             this parameter can be one of the following values:
 337:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG_DEVICE_MODE
 338:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG_HOST_MODE
 339:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG_DRD_MODE
 340:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 341:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 342:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_global_set_mode(otg_global_type *usbx, uint32_t mode)
 343:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 549              		.loc 1 343 1 is_stmt 1 view -0
 550              		.cfi_startproc
 551              		@ args = 0, pretend = 0, frame = 0
 552              		@ frame_needed = 0, uses_anonymous_args = 0
 553              		@ link register save eliminated.
 344:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* set otg to device mode */
 345:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(mode == OTG_DEVICE_MODE)
 554              		.loc 1 345 3 view .LVU133
 555              		.loc 1 345 5 is_stmt 0 view .LVU134
 556 0000 0B46     		mov	r3, r1
 557 0002 39B9     		cbnz	r1, .L47
 346:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 347:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fhstmode = FALSE;
 558              		.loc 1 347 5 is_stmt 1 view .LVU135
 559              		.loc 1 347 32 is_stmt 0 view .LVU136
 560 0004 C268     		ldr	r2, [r0, #12]
 561 0006 6FF35D72 		bfc	r2, #29, #1
 562 000a C260     		str	r2, [r0, #12]
 348:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fdevmode = TRUE;
 563              		.loc 1 348 5 is_stmt 1 view .LVU137
 564              		.loc 1 348 32 is_stmt 0 view .LVU138
 565 000c C268     		ldr	r2, [r0, #12]
 566 000e 42F08042 		orr	r2, r2, #1073741824
 567 0012 C260     		str	r2, [r0, #12]
 568              	.L47:
 349:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 350:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 351:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* set otg to host mode */
 352:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(mode == OTG_HOST_MODE)
 569              		.loc 1 352 3 is_stmt 1 view .LVU139
 570              		.loc 1 352 5 is_stmt 0 view .LVU140
 571 0014 012B     		cmp	r3, #1
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 17


 572 0016 02D0     		beq	.L50
 573              	.L48:
 353:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 354:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fdevmode = FALSE;
 355:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fhstmode = TRUE;
 356:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 357:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 358:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* set otg to default mode */
 359:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(mode == OTG_DRD_MODE)
 574              		.loc 1 359 3 is_stmt 1 view .LVU141
 575              		.loc 1 359 5 is_stmt 0 view .LVU142
 576 0018 022B     		cmp	r3, #2
 577 001a 09D0     		beq	.L51
 578              	.L46:
 360:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 361:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fdevmode = FALSE;
 362:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fhstmode = FALSE;
 363:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 364:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 579              		.loc 1 364 1 view .LVU143
 580 001c 7047     		bx	lr
 581              	.L50:
 354:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fhstmode = TRUE;
 582              		.loc 1 354 5 is_stmt 1 view .LVU144
 354:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fhstmode = TRUE;
 583              		.loc 1 354 32 is_stmt 0 view .LVU145
 584 001e C268     		ldr	r2, [r0, #12]
 585 0020 6FF39E72 		bfc	r2, #30, #1
 586 0024 C260     		str	r2, [r0, #12]
 355:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 587              		.loc 1 355 5 is_stmt 1 view .LVU146
 355:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 588              		.loc 1 355 32 is_stmt 0 view .LVU147
 589 0026 C268     		ldr	r2, [r0, #12]
 590 0028 42F00052 		orr	r2, r2, #536870912
 591 002c C260     		str	r2, [r0, #12]
 592 002e F3E7     		b	.L48
 593              	.L51:
 361:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fhstmode = FALSE;
 594              		.loc 1 361 5 is_stmt 1 view .LVU148
 361:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fhstmode = FALSE;
 595              		.loc 1 361 32 is_stmt 0 view .LVU149
 596 0030 C368     		ldr	r3, [r0, #12]
 597 0032 6FF39E73 		bfc	r3, #30, #1
 598 0036 C360     		str	r3, [r0, #12]
 362:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 599              		.loc 1 362 5 is_stmt 1 view .LVU150
 362:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 600              		.loc 1 362 32 is_stmt 0 view .LVU151
 601 0038 C368     		ldr	r3, [r0, #12]
 602 003a 6FF35D73 		bfc	r3, #29, #1
 603 003e C360     		str	r3, [r0, #12]
 604              		.loc 1 364 1 view .LVU152
 605 0040 ECE7     		b	.L46
 606              		.cfi_endproc
 607              	.LFE145:
 609              		.section	.text.usb_global_power_on,"ax",%progbits
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 18


 610              		.align	1
 611              		.global	usb_global_power_on
 612              		.syntax unified
 613              		.thumb
 614              		.thumb_func
 616              	usb_global_power_on:
 617              	.LVL45:
 618              	.LFB146:
 365:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 366:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 367:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 368:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  disable the transceiver power down mode
 369:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 370:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 371:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 372:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 373:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 374:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 375:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_global_power_on(otg_global_type *usbx)
 376:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 619              		.loc 1 376 1 is_stmt 1 view -0
 620              		.cfi_startproc
 621              		@ args = 0, pretend = 0, frame = 0
 622              		@ frame_needed = 0, uses_anonymous_args = 0
 623              		@ link register save eliminated.
 377:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* core soft reset */
 378:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->grstctl_bit.csftrst = TRUE;
 624              		.loc 1 378 3 view .LVU154
 625              		.loc 1 378 29 is_stmt 0 view .LVU155
 626 0000 0369     		ldr	r3, [r0, #16]
 627 0002 43F00103 		orr	r3, r3, #1
 628 0006 0361     		str	r3, [r0, #16]
 379:bsp/libraries/drivers/src/at32f435_437_usb.c ****   while(usbx->grstctl_bit.csftrst);
 629              		.loc 1 379 3 is_stmt 1 view .LVU156
 630              	.L53:
 631              		.loc 1 379 35 discriminator 1 view .LVU157
 632              		.loc 1 379 8 discriminator 1 view .LVU158
 633              		.loc 1 379 26 is_stmt 0 discriminator 1 view .LVU159
 634 0008 0369     		ldr	r3, [r0, #16]
 635              		.loc 1 379 8 discriminator 1 view .LVU160
 636 000a 13F0010F 		tst	r3, #1
 637 000e FBD1     		bne	.L53
 380:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 381:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* disable power down mode */
 382:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->gccfg_bit.pwrdown = TRUE;
 638              		.loc 1 382 3 is_stmt 1 view .LVU161
 639              		.loc 1 382 27 is_stmt 0 view .LVU162
 640 0010 836B     		ldr	r3, [r0, #56]
 641 0012 43F48033 		orr	r3, r3, #65536
 642 0016 8363     		str	r3, [r0, #56]
 383:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 384:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 643              		.loc 1 384 1 view .LVU163
 644 0018 7047     		bx	lr
 645              		.cfi_endproc
 646              	.LFE146:
 648              		.section	.text.usb_stop_phy_clk,"ax",%progbits
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 19


 649              		.align	1
 650              		.global	usb_stop_phy_clk
 651              		.syntax unified
 652              		.thumb
 653              		.thumb_func
 655              	usb_stop_phy_clk:
 656              	.LVL46:
 657              	.LFB147:
 385:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 386:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 387:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  usb stop phy clock
 388:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 389:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 390:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 391:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 392:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 393:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 394:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_stop_phy_clk(otg_global_type *usbx)
 395:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 658              		.loc 1 395 1 is_stmt 1 view -0
 659              		.cfi_startproc
 660              		@ args = 0, pretend = 0, frame = 0
 661              		@ frame_needed = 0, uses_anonymous_args = 0
 662              		@ link register save eliminated.
 396:bsp/libraries/drivers/src/at32f435_437_usb.c ****   OTG_PCGCCTL(usbx)->pcgcctl_bit.stoppclk = TRUE;
 663              		.loc 1 396 3 view .LVU165
 664              		.loc 1 396 43 is_stmt 0 view .LVU166
 665 0000 D0F8003E 		ldr	r3, [r0, #3584]
 666 0004 43F00103 		orr	r3, r3, #1
 667 0008 C0F8003E 		str	r3, [r0, #3584]
 397:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 668              		.loc 1 397 1 view .LVU167
 669 000c 7047     		bx	lr
 670              		.cfi_endproc
 671              	.LFE147:
 673              		.section	.text.usb_open_phy_clk,"ax",%progbits
 674              		.align	1
 675              		.global	usb_open_phy_clk
 676              		.syntax unified
 677              		.thumb
 678              		.thumb_func
 680              	usb_open_phy_clk:
 681              	.LVL47:
 682              	.LFB148:
 398:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 399:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 400:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  usb open phy clock
 401:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 402:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 403:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 404:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 405:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 406:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 407:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_open_phy_clk(otg_global_type *usbx)
 408:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 683              		.loc 1 408 1 is_stmt 1 view -0
 684              		.cfi_startproc
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 20


 685              		@ args = 0, pretend = 0, frame = 0
 686              		@ frame_needed = 0, uses_anonymous_args = 0
 687              		@ link register save eliminated.
 409:bsp/libraries/drivers/src/at32f435_437_usb.c ****   OTG_PCGCCTL(usbx)->pcgcctl_bit.stoppclk = FALSE;
 688              		.loc 1 409 3 view .LVU169
 689              		.loc 1 409 43 is_stmt 0 view .LVU170
 690 0000 D0F8003E 		ldr	r3, [r0, #3584]
 691 0004 6FF30003 		bfc	r3, #0, #1
 692 0008 C0F8003E 		str	r3, [r0, #3584]
 410:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 693              		.loc 1 410 1 view .LVU171
 694 000c 7047     		bx	lr
 695              		.cfi_endproc
 696              	.LFE148:
 698              		.section	.text.usb_write_packet,"ax",%progbits
 699              		.align	1
 700              		.global	usb_write_packet
 701              		.syntax unified
 702              		.thumb
 703              		.thumb_func
 705              	usb_write_packet:
 706              	.LVL48:
 707              	.LFB149:
 411:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 412:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 413:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 414:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  write data from user memory to usb buffer
 415:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  pusr_buf: point to user buffer
 416:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  offset_addr: endpoint tx offset address
 417:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  nbytes: number of bytes data write to usb buffer
 418:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 419:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 420:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_write_packet(otg_global_type *usbx, uint8_t *pusr_buf, uint16_t num, uint16_t nbytes)
 421:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 708              		.loc 1 421 1 is_stmt 1 view -0
 709              		.cfi_startproc
 710              		@ args = 0, pretend = 0, frame = 0
 711              		@ frame_needed = 0, uses_anonymous_args = 0
 712              		.loc 1 421 1 is_stmt 0 view .LVU173
 713 0000 10B5     		push	{r4, lr}
 714              	.LCFI2:
 715              		.cfi_def_cfa_offset 8
 716              		.cfi_offset 4, -8
 717              		.cfi_offset 14, -4
 422:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t n_index;
 718              		.loc 1 422 3 is_stmt 1 view .LVU174
 423:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t nhbytes = (nbytes + 3) / 4;
 719              		.loc 1 423 3 view .LVU175
 720              		.loc 1 423 35 is_stmt 0 view .LVU176
 721 0002 03F1030E 		add	lr, r3, #3
 722 0006 4FEAAE0E 		asr	lr, lr, #2
 723              	.LVL49:
 424:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t *pbuf = (uint32_t *)pusr_buf;
 724              		.loc 1 424 3 is_stmt 1 view .LVU177
 425:bsp/libraries/drivers/src/at32f435_437_usb.c ****   for(n_index = 0; n_index < nhbytes; n_index ++)
 725              		.loc 1 425 3 view .LVU178
 726              		.loc 1 425 15 is_stmt 0 view .LVU179
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 21


 727 000a 4FF0000C 		mov	ip, #0
 728              		.loc 1 425 3 view .LVU180
 729 000e 08E0     		b	.L58
 730              	.LVL50:
 731              	.L59:
 426:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 427:bsp/libraries/drivers/src/at32f435_437_usb.c **** #if defined (__ICCARM__) && (__VER__ < 7000000)
 428:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_FIFO(usbx, num) = *(__packed uint32_t *)pbuf;
 429:bsp/libraries/drivers/src/at32f435_437_usb.c **** #else
 430:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_FIFO(usbx, num) = __UNALIGNED_UINT32_READ(pbuf);
 732              		.loc 1 430 5 is_stmt 1 discriminator 3 view .LVU181
 733 0010 00EB0233 		add	r3, r0, r2, lsl #12
 734 0014 03F58053 		add	r3, r3, #4096
 735              		.loc 1 430 27 is_stmt 0 discriminator 3 view .LVU182
 736 0018 51F8044B 		ldr	r4, [r1], #4	@ unaligned
 737              	.LVL51:
 738              		.loc 1 430 25 discriminator 3 view .LVU183
 739 001c 1C60     		str	r4, [r3]
 431:bsp/libraries/drivers/src/at32f435_437_usb.c **** #endif
 432:bsp/libraries/drivers/src/at32f435_437_usb.c ****     pbuf ++;
 740              		.loc 1 432 5 is_stmt 1 discriminator 3 view .LVU184
 741              	.LVL52:
 425:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 742              		.loc 1 425 39 discriminator 3 view .LVU185
 425:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 743              		.loc 1 425 47 is_stmt 0 discriminator 3 view .LVU186
 744 001e 0CF1010C 		add	ip, ip, #1
 745              	.LVL53:
 746              	.L58:
 425:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 747              		.loc 1 425 20 is_stmt 1 discriminator 1 view .LVU187
 425:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 748              		.loc 1 425 3 is_stmt 0 discriminator 1 view .LVU188
 749 0022 F445     		cmp	ip, lr
 750 0024 F4D3     		bcc	.L59
 433:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 434:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 751              		.loc 1 434 1 view .LVU189
 752 0026 10BD     		pop	{r4, pc}
 753              		.cfi_endproc
 754              	.LFE149:
 756              		.section	.text.usb_read_packet,"ax",%progbits
 757              		.align	1
 758              		.global	usb_read_packet
 759              		.syntax unified
 760              		.thumb
 761              		.thumb_func
 763              	usb_read_packet:
 764              	.LVL54:
 765              	.LFB150:
 435:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 436:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 437:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  read data from usb buffer to user buffer
 438:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  pusr_buf: point to user buffer
 439:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  offset_addr: endpoint rx offset address
 440:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  nbytes: number of bytes data write to usb buffer
 441:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 22


 442:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 443:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_read_packet(otg_global_type *usbx, uint8_t *pusr_buf, uint16_t num, uint16_t nbytes)
 444:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 766              		.loc 1 444 1 is_stmt 1 view -0
 767              		.cfi_startproc
 768              		@ args = 0, pretend = 0, frame = 0
 769              		@ frame_needed = 0, uses_anonymous_args = 0
 770              		@ link register save eliminated.
 445:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t n_index;
 771              		.loc 1 445 3 view .LVU191
 446:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t nhbytes = (nbytes + 3) / 4;
 772              		.loc 1 446 3 view .LVU192
 773              		.loc 1 446 35 is_stmt 0 view .LVU193
 774 0000 03F1030C 		add	ip, r3, #3
 775 0004 4FEAAC0C 		asr	ip, ip, #2
 776              	.LVL55:
 447:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t *pbuf = (uint32_t *)pusr_buf;
 777              		.loc 1 447 3 is_stmt 1 view .LVU194
 448:bsp/libraries/drivers/src/at32f435_437_usb.c ****   UNUSED(num);
 778              		.loc 1 448 3 view .LVU195
 449:bsp/libraries/drivers/src/at32f435_437_usb.c ****   for(n_index = 0; n_index < nhbytes; n_index ++)
 779              		.loc 1 449 3 view .LVU196
 780              		.loc 1 449 15 is_stmt 0 view .LVU197
 781 0008 0023     		movs	r3, #0
 782              	.LVL56:
 783              		.loc 1 449 3 view .LVU198
 784 000a 05E0     		b	.L63
 785              	.LVL57:
 786              	.L64:
 450:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 451:bsp/libraries/drivers/src/at32f435_437_usb.c **** #if defined (__ICCARM__) && (__VER__ < 7000000)
 452:bsp/libraries/drivers/src/at32f435_437_usb.c ****     *(__packed uint32_t *)pbuf = USB_FIFO(usbx, 0);
 453:bsp/libraries/drivers/src/at32f435_437_usb.c **** #else
 454:bsp/libraries/drivers/src/at32f435_437_usb.c ****     __UNALIGNED_UINT32_WRITE(pbuf, (USB_FIFO(usbx, 0)));
 787              		.loc 1 454 5 is_stmt 1 discriminator 3 view .LVU199
 788 000c 00F58052 		add	r2, r0, #4096
 789 0010 1268     		ldr	r2, [r2]
 790 0012 41F8042B 		str	r2, [r1], #4	@ unaligned
 791              	.LVL58:
 455:bsp/libraries/drivers/src/at32f435_437_usb.c **** #endif
 456:bsp/libraries/drivers/src/at32f435_437_usb.c ****     pbuf ++;
 792              		.loc 1 456 5 discriminator 3 view .LVU200
 449:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 793              		.loc 1 449 39 discriminator 3 view .LVU201
 449:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 794              		.loc 1 449 47 is_stmt 0 discriminator 3 view .LVU202
 795 0016 0133     		adds	r3, r3, #1
 796              	.LVL59:
 797              	.L63:
 449:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 798              		.loc 1 449 20 is_stmt 1 discriminator 1 view .LVU203
 449:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 799              		.loc 1 449 3 is_stmt 0 discriminator 1 view .LVU204
 800 0018 6345     		cmp	r3, ip
 801 001a F7D3     		bcc	.L64
 457:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 458:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 23


 802              		.loc 1 458 1 view .LVU205
 803 001c 7047     		bx	lr
 804              		.cfi_endproc
 805              	.LFE150:
 807              		.section	.text.usb_ept_open,"ax",%progbits
 808              		.align	1
 809              		.global	usb_ept_open
 810              		.syntax unified
 811              		.thumb
 812              		.thumb_func
 814              	usb_ept_open:
 815              	.LVL60:
 816              	.LFB151:
 459:bsp/libraries/drivers/src/at32f435_437_usb.c **** #endif
 460:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 461:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 462:bsp/libraries/drivers/src/at32f435_437_usb.c **** #ifdef OTGFS_USB_DEVICE
 463:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 464:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  open usb endpoint
 465:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 466:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 467:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 468:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 469:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  ept_info: endpoint information structure
 470:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 471:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 472:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_ept_open(otg_global_type *usbx, usb_ept_info *ept_info)
 473:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 817              		.loc 1 473 1 is_stmt 1 view -0
 818              		.cfi_startproc
 819              		@ args = 0, pretend = 0, frame = 0
 820              		@ frame_needed = 0, uses_anonymous_args = 0
 821              		.loc 1 473 1 is_stmt 0 view .LVU207
 822 0000 10B5     		push	{r4, lr}
 823              	.LCFI3:
 824              		.cfi_def_cfa_offset 8
 825              		.cfi_offset 4, -8
 826              		.cfi_offset 14, -4
 474:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint8_t mps = USB_EPT0_MPS_64;
 827              		.loc 1 474 3 is_stmt 1 view .LVU208
 828              	.LVL61:
 475:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(ept_info->eptn == USB_EPT0)
 829              		.loc 1 475 3 view .LVU209
 830              		.loc 1 475 14 is_stmt 0 view .LVU210
 831 0002 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 832              		.loc 1 475 5 view .LVU211
 833 0004 53B9     		cbnz	r3, .L73
 476:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 477:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(ept_info->maxpacket == 0x40)
 834              		.loc 1 477 5 is_stmt 1 view .LVU212
 835              		.loc 1 477 16 is_stmt 0 view .LVU213
 836 0006 8A68     		ldr	r2, [r1, #8]
 837              		.loc 1 477 7 view .LVU214
 838 0008 402A     		cmp	r2, #64
 839 000a 45D0     		beq	.L74
 478:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 479:bsp/libraries/drivers/src/at32f435_437_usb.c ****       mps = USB_EPT0_MPS_64;
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 24


 480:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 481:bsp/libraries/drivers/src/at32f435_437_usb.c ****     else if(ept_info->maxpacket == 0x20)
 840              		.loc 1 481 10 is_stmt 1 view .LVU215
 841              		.loc 1 481 12 is_stmt 0 view .LVU216
 842 000c 202A     		cmp	r2, #32
 843 000e 45D0     		beq	.L75
 482:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 483:bsp/libraries/drivers/src/at32f435_437_usb.c ****       mps = USB_EPT0_MPS_32;
 484:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 485:bsp/libraries/drivers/src/at32f435_437_usb.c ****     else if(ept_info->maxpacket == 0x10)
 844              		.loc 1 485 10 is_stmt 1 view .LVU217
 845              		.loc 1 485 12 is_stmt 0 view .LVU218
 846 0010 102A     		cmp	r2, #16
 847 0012 46D0     		beq	.L76
 486:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 487:bsp/libraries/drivers/src/at32f435_437_usb.c ****       mps = USB_EPT0_MPS_16;
 488:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 489:bsp/libraries/drivers/src/at32f435_437_usb.c ****     else if(ept_info->maxpacket == 0x08)
 848              		.loc 1 489 10 is_stmt 1 view .LVU219
 849              		.loc 1 489 12 is_stmt 0 view .LVU220
 850 0014 082A     		cmp	r2, #8
 851 0016 47D0     		beq	.L77
 474:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(ept_info->eptn == USB_EPT0)
 852              		.loc 1 474 11 view .LVU221
 853 0018 9E46     		mov	lr, r3
 854 001a 01E0     		b	.L66
 855              	.L73:
 856 001c 4FF0000E 		mov	lr, #0
 857              	.L66:
 858              	.LVL62:
 490:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 491:bsp/libraries/drivers/src/at32f435_437_usb.c ****       mps = USB_EPT0_MPS_8;
 492:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 493:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 494:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* endpoint direction is in */
 495:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(ept_info->inout == EPT_DIR_IN)
 859              		.loc 1 495 3 is_stmt 1 view .LVU222
 860              		.loc 1 495 14 is_stmt 0 view .LVU223
 861 0020 8A78     		ldrb	r2, [r1, #2]	@ zero_extendqisi2
 862              		.loc 1 495 5 view .LVU224
 863 0022 002A     		cmp	r2, #0
 864 0024 4DD1     		bne	.L67
 496:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 497:bsp/libraries/drivers/src/at32f435_437_usb.c ****     OTG_DEVICE(usbx)->daintmsk |= 1 << ept_info->eptn;
 865              		.loc 1 497 5 is_stmt 1 view .LVU225
 866              		.loc 1 497 32 is_stmt 0 view .LVU226
 867 0026 D0F81C28 		ldr	r2, [r0, #2076]
 868              		.loc 1 497 37 view .LVU227
 869 002a 4FF0010C 		mov	ip, #1
 870 002e 0CFA03F3 		lsl	r3, ip, r3
 871              		.loc 1 497 32 view .LVU228
 872 0032 1343     		orrs	r3, r3, r2
 873 0034 C0F81C38 		str	r3, [r0, #2076]
 498:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(ept_info->eptn == USB_EPT0)
 874              		.loc 1 498 5 is_stmt 1 view .LVU229
 875              		.loc 1 498 16 is_stmt 0 view .LVU230
 876 0038 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 25


 877              		.loc 1 498 7 view .LVU231
 878 003a C3BB     		cbnz	r3, .L68
 499:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 500:bsp/libraries/drivers/src/at32f435_437_usb.c ****       USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.mps = mps;
 879              		.loc 1 500 7 is_stmt 1 view .LVU232
 880 003c 00EB4313 		add	r3, r0, r3, lsl #5
 881              		.loc 1 500 56 is_stmt 0 view .LVU233
 882 0040 D3F80029 		ldr	r2, [r3, #2304]
 883 0044 6EF30A02 		bfi	r2, lr, #0, #11
 884 0048 C3F80029 		str	r2, [r3, #2304]
 885              	.L69:
 501:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 502:bsp/libraries/drivers/src/at32f435_437_usb.c ****     else
 503:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 504:bsp/libraries/drivers/src/at32f435_437_usb.c ****       USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.mps = ept_info->maxpacket;
 505:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 506:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.eptype = ept_info->trans_type;
 886              		.loc 1 506 5 is_stmt 1 view .LVU234
 887 004c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 888 004e 00EB4313 		add	r3, r0, r3, lsl #5
 889              		.loc 1 506 67 is_stmt 0 view .LVU235
 890 0052 CC78     		ldrb	r4, [r1, #3]	@ zero_extendqisi2
 891              		.loc 1 506 57 view .LVU236
 892 0054 D3F80029 		ldr	r2, [r3, #2304]
 893 0058 64F39342 		bfi	r2, r4, #18, #2
 894 005c C3F80029 		str	r2, [r3, #2304]
 507:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.txfnum = ept_info->eptn;
 895              		.loc 1 507 5 is_stmt 1 view .LVU237
 896              		.loc 1 507 67 is_stmt 0 view .LVU238
 897 0060 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 898              		.loc 1 507 5 view .LVU239
 899 0062 00EB4413 		add	r3, r0, r4, lsl #5
 900              		.loc 1 507 57 view .LVU240
 901 0066 D3F80029 		ldr	r2, [r3, #2304]
 902 006a 64F39952 		bfi	r2, r4, #22, #4
 903 006e C3F80029 		str	r2, [r3, #2304]
 508:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.setd0pid = TRUE;
 904              		.loc 1 508 5 is_stmt 1 view .LVU241
 905 0072 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 906 0074 00EB4313 		add	r3, r0, r3, lsl #5
 907              		.loc 1 508 59 is_stmt 0 view .LVU242
 908 0078 D3F80029 		ldr	r2, [r3, #2304]
 909 007c 42F08052 		orr	r2, r2, #268435456
 910 0080 C3F80029 		str	r2, [r3, #2304]
 509:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.usbacept = TRUE;
 911              		.loc 1 509 5 is_stmt 1 view .LVU243
 912 0084 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 913 0086 00EB4310 		add	r0, r0, r3, lsl #5
 914              	.LVL63:
 915              		.loc 1 509 59 is_stmt 0 view .LVU244
 916 008a D0F80039 		ldr	r3, [r0, #2304]
 917 008e 43F40043 		orr	r3, r3, #32768
 918 0092 C0F80039 		str	r3, [r0, #2304]
 919              	.L65:
 510:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 511:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* endpoint direction is out */
 512:bsp/libraries/drivers/src/at32f435_437_usb.c ****   else
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 26


 513:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 514:bsp/libraries/drivers/src/at32f435_437_usb.c ****     OTG_DEVICE(usbx)->daintmsk |= (1 << ept_info->eptn) << 16;
 515:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(ept_info->eptn == USB_EPT0)
 516:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 517:bsp/libraries/drivers/src/at32f435_437_usb.c ****       USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.mps = mps;
 518:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 519:bsp/libraries/drivers/src/at32f435_437_usb.c ****     else
 520:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 521:bsp/libraries/drivers/src/at32f435_437_usb.c ****       USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.mps = ept_info->maxpacket;
 522:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 523:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.eptype = ept_info->trans_type;
 524:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.setd0pid = TRUE;
 525:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = TRUE;
 526:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 527:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 920              		.loc 1 527 1 view .LVU245
 921 0096 10BD     		pop	{r4, pc}
 922              	.LVL64:
 923              	.L74:
 479:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 924              		.loc 1 479 11 view .LVU246
 925 0098 9E46     		mov	lr, r3
 926 009a C1E7     		b	.L66
 927              	.L75:
 483:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 928              		.loc 1 483 11 view .LVU247
 929 009c 4FF0010E 		mov	lr, #1
 930 00a0 BEE7     		b	.L66
 931              	.L76:
 487:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 932              		.loc 1 487 11 view .LVU248
 933 00a2 4FF0020E 		mov	lr, #2
 934 00a6 BBE7     		b	.L66
 935              	.L77:
 491:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 936              		.loc 1 491 11 view .LVU249
 937 00a8 4FF0030E 		mov	lr, #3
 938 00ac B8E7     		b	.L66
 939              	.LVL65:
 940              	.L68:
 504:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 941              		.loc 1 504 7 is_stmt 1 view .LVU250
 942 00ae 00EB4313 		add	r3, r0, r3, lsl #5
 504:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 943              		.loc 1 504 66 is_stmt 0 view .LVU251
 944 00b2 8C68     		ldr	r4, [r1, #8]
 504:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 945              		.loc 1 504 56 view .LVU252
 946 00b4 D3F80029 		ldr	r2, [r3, #2304]
 947 00b8 64F30A02 		bfi	r2, r4, #0, #11
 948 00bc C3F80029 		str	r2, [r3, #2304]
 949 00c0 C4E7     		b	.L69
 950              	.L67:
 514:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(ept_info->eptn == USB_EPT0)
 951              		.loc 1 514 5 is_stmt 1 view .LVU253
 514:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(ept_info->eptn == USB_EPT0)
 952              		.loc 1 514 32 is_stmt 0 view .LVU254
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 27


 953 00c2 D0F81C28 		ldr	r2, [r0, #2076]
 514:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(ept_info->eptn == USB_EPT0)
 954              		.loc 1 514 38 view .LVU255
 955 00c6 4FF0010C 		mov	ip, #1
 956 00ca 0CFA03F3 		lsl	r3, ip, r3
 514:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(ept_info->eptn == USB_EPT0)
 957              		.loc 1 514 32 view .LVU256
 958 00ce 42EA0343 		orr	r3, r2, r3, lsl #16
 959 00d2 C0F81C38 		str	r3, [r0, #2076]
 515:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 960              		.loc 1 515 5 is_stmt 1 view .LVU257
 515:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 961              		.loc 1 515 16 is_stmt 0 view .LVU258
 962 00d6 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 515:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 963              		.loc 1 515 7 view .LVU259
 964 00d8 23BB     		cbnz	r3, .L71
 517:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 965              		.loc 1 517 7 is_stmt 1 view .LVU260
 966 00da 00EB4313 		add	r3, r0, r3, lsl #5
 517:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 967              		.loc 1 517 57 is_stmt 0 view .LVU261
 968 00de D3F8002B 		ldr	r2, [r3, #2816]
 969 00e2 6EF30A02 		bfi	r2, lr, #0, #11
 970 00e6 C3F8002B 		str	r2, [r3, #2816]
 971              	.L72:
 523:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.setd0pid = TRUE;
 972              		.loc 1 523 5 is_stmt 1 view .LVU262
 973 00ea 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 974 00ec 00EB4313 		add	r3, r0, r3, lsl #5
 523:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.setd0pid = TRUE;
 975              		.loc 1 523 68 is_stmt 0 view .LVU263
 976 00f0 CC78     		ldrb	r4, [r1, #3]	@ zero_extendqisi2
 523:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.setd0pid = TRUE;
 977              		.loc 1 523 58 view .LVU264
 978 00f2 D3F8002B 		ldr	r2, [r3, #2816]
 979 00f6 64F39342 		bfi	r2, r4, #18, #2
 980 00fa C3F8002B 		str	r2, [r3, #2816]
 524:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = TRUE;
 981              		.loc 1 524 5 is_stmt 1 view .LVU265
 982 00fe 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 983 0100 00EB4313 		add	r3, r0, r3, lsl #5
 524:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = TRUE;
 984              		.loc 1 524 60 is_stmt 0 view .LVU266
 985 0104 D3F8002B 		ldr	r2, [r3, #2816]
 986 0108 42F08052 		orr	r2, r2, #268435456
 987 010c C3F8002B 		str	r2, [r3, #2816]
 525:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 988              		.loc 1 525 5 is_stmt 1 view .LVU267
 989 0110 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 990 0112 00EB4310 		add	r0, r0, r3, lsl #5
 991              	.LVL66:
 525:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 992              		.loc 1 525 60 is_stmt 0 view .LVU268
 993 0116 D0F8003B 		ldr	r3, [r0, #2816]
 994 011a 43F40043 		orr	r3, r3, #32768
 995 011e C0F8003B 		str	r3, [r0, #2816]
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 28


 996              		.loc 1 527 1 view .LVU269
 997 0122 B8E7     		b	.L65
 998              	.LVL67:
 999              	.L71:
 521:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 1000              		.loc 1 521 7 is_stmt 1 view .LVU270
 1001 0124 00EB4313 		add	r3, r0, r3, lsl #5
 521:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 1002              		.loc 1 521 67 is_stmt 0 view .LVU271
 1003 0128 8C68     		ldr	r4, [r1, #8]
 521:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 1004              		.loc 1 521 57 view .LVU272
 1005 012a D3F8002B 		ldr	r2, [r3, #2816]
 1006 012e 64F30A02 		bfi	r2, r4, #0, #11
 1007 0132 C3F8002B 		str	r2, [r3, #2816]
 1008 0136 D8E7     		b	.L72
 1009              		.cfi_endproc
 1010              	.LFE151:
 1012              		.section	.text.usb_ept_close,"ax",%progbits
 1013              		.align	1
 1014              		.global	usb_ept_close
 1015              		.syntax unified
 1016              		.thumb
 1017              		.thumb_func
 1019              	usb_ept_close:
 1020              	.LVL68:
 1021              	.LFB152:
 528:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 529:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 530:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  close usb endpoint
 531:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 532:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 533:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 534:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 535:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  ept_info: endpoint information structure
 536:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 537:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 538:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_ept_close(otg_global_type *usbx, usb_ept_info *ept_info)
 539:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1022              		.loc 1 539 1 is_stmt 1 view -0
 1023              		.cfi_startproc
 1024              		@ args = 0, pretend = 0, frame = 0
 1025              		@ frame_needed = 0, uses_anonymous_args = 0
 1026              		.loc 1 539 1 is_stmt 0 view .LVU274
 1027 0000 00B5     		push	{lr}
 1028              	.LCFI4:
 1029              		.cfi_def_cfa_offset 4
 1030              		.cfi_offset 14, -4
 540:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(ept_info->inout == EPT_DIR_IN)
 1031              		.loc 1 540 3 is_stmt 1 view .LVU275
 1032              		.loc 1 540 14 is_stmt 0 view .LVU276
 1033 0002 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 1034              		.loc 1 540 5 view .LVU277
 1035 0004 ABB9     		cbnz	r3, .L80
 541:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 542:bsp/libraries/drivers/src/at32f435_437_usb.c ****     OTG_DEVICE(usbx)->daintmsk &= ~(1 << ept_info->eptn);
 1036              		.loc 1 542 5 is_stmt 1 view .LVU278
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 29


 1037              		.loc 1 542 32 is_stmt 0 view .LVU279
 1038 0006 D0F81C38 		ldr	r3, [r0, #2076]
 1039              		.loc 1 542 50 view .LVU280
 1040 000a 91F800E0 		ldrb	lr, [r1]	@ zero_extendqisi2
 1041              		.loc 1 542 39 view .LVU281
 1042 000e 0122     		movs	r2, #1
 1043 0010 02FA0EF2 		lsl	r2, r2, lr
 1044              		.loc 1 542 32 view .LVU282
 1045 0014 23EA0203 		bic	r3, r3, r2
 1046 0018 C0F81C38 		str	r3, [r0, #2076]
 543:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.usbacept = FALSE;
 1047              		.loc 1 543 5 is_stmt 1 view .LVU283
 1048 001c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1049 001e 00EB4310 		add	r0, r0, r3, lsl #5
 1050              	.LVL69:
 1051              		.loc 1 543 59 is_stmt 0 view .LVU284
 1052 0022 D0F80039 		ldr	r3, [r0, #2304]
 1053 0026 6FF3CF33 		bfc	r3, #15, #1
 1054 002a C0F80039 		str	r3, [r0, #2304]
 1055              	.L79:
 544:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 545:bsp/libraries/drivers/src/at32f435_437_usb.c ****   else
 546:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 547:bsp/libraries/drivers/src/at32f435_437_usb.c ****     OTG_DEVICE(usbx)->daintmsk &= ~((1 << ept_info->eptn) << 16);
 548:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = FALSE;
 549:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 550:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1056              		.loc 1 550 1 view .LVU285
 1057 002e 5DF804FB 		ldr	pc, [sp], #4
 1058              	.LVL70:
 1059              	.L80:
 547:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = FALSE;
 1060              		.loc 1 547 5 is_stmt 1 view .LVU286
 547:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = FALSE;
 1061              		.loc 1 547 32 is_stmt 0 view .LVU287
 1062 0032 D0F81C38 		ldr	r3, [r0, #2076]
 547:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = FALSE;
 1063              		.loc 1 547 51 view .LVU288
 1064 0036 91F800E0 		ldrb	lr, [r1]	@ zero_extendqisi2
 547:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = FALSE;
 1065              		.loc 1 547 40 view .LVU289
 1066 003a 0122     		movs	r2, #1
 1067 003c 02FA0EF2 		lsl	r2, r2, lr
 547:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = FALSE;
 1068              		.loc 1 547 32 view .LVU290
 1069 0040 23EA0243 		bic	r3, r3, r2, lsl #16
 1070 0044 C0F81C38 		str	r3, [r0, #2076]
 548:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 1071              		.loc 1 548 5 is_stmt 1 view .LVU291
 1072 0048 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1073 004a 00EB4310 		add	r0, r0, r3, lsl #5
 1074              	.LVL71:
 548:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 1075              		.loc 1 548 60 is_stmt 0 view .LVU292
 1076 004e D0F8003B 		ldr	r3, [r0, #2816]
 1077 0052 6FF3CF33 		bfc	r3, #15, #1
 1078 0056 C0F8003B 		str	r3, [r0, #2816]
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 30


 1079              		.loc 1 550 1 view .LVU293
 1080 005a E8E7     		b	.L79
 1081              		.cfi_endproc
 1082              	.LFE152:
 1084              		.section	.text.usb_ept_stall,"ax",%progbits
 1085              		.align	1
 1086              		.global	usb_ept_stall
 1087              		.syntax unified
 1088              		.thumb
 1089              		.thumb_func
 1091              	usb_ept_stall:
 1092              	.LVL72:
 1093              	.LFB153:
 551:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 552:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 553:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 554:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  set endpoint tx or rx status to stall
 555:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 556:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 557:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 558:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 559:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  ept_info: endpoint information structure
 560:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 561:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 562:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_ept_stall(otg_global_type *usbx, usb_ept_info *ept_info)
 563:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1094              		.loc 1 563 1 is_stmt 1 view -0
 1095              		.cfi_startproc
 1096              		@ args = 0, pretend = 0, frame = 0
 1097              		@ frame_needed = 0, uses_anonymous_args = 0
 1098              		@ link register save eliminated.
 564:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(ept_info->inout == EPT_DIR_IN)
 1099              		.loc 1 564 3 view .LVU295
 1100              		.loc 1 564 14 is_stmt 0 view .LVU296
 1101 0000 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 1102              		.loc 1 564 5 view .LVU297
 1103 0002 B3B9     		cbnz	r3, .L84
 565:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 566:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.eptena == RESET)
 1104              		.loc 1 566 5 is_stmt 1 view .LVU298
 1105              		.loc 1 566 8 is_stmt 0 view .LVU299
 1106 0004 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1107 0006 00EB4313 		add	r3, r0, r3, lsl #5
 1108              		.loc 1 566 52 view .LVU300
 1109 000a D3F80029 		ldr	r2, [r3, #2304]
 1110              		.loc 1 566 7 view .LVU301
 1111 000e 002A     		cmp	r2, #0
 1112 0010 05DB     		blt	.L85
 567:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 568:bsp/libraries/drivers/src/at32f435_437_usb.c ****       USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.eptdis = FALSE;
 1113              		.loc 1 568 7 is_stmt 1 view .LVU302
 1114              		.loc 1 568 59 is_stmt 0 view .LVU303
 1115 0012 D3F80029 		ldr	r2, [r3, #2304]
 1116 0016 6FF39E72 		bfc	r2, #30, #1
 1117 001a C3F80029 		str	r2, [r3, #2304]
 1118              	.L85:
 569:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 31


 570:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.stall = SET;
 1119              		.loc 1 570 5 is_stmt 1 view .LVU304
 1120 001e 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1121 0020 00EB4310 		add	r0, r0, r3, lsl #5
 1122              	.LVL73:
 1123              		.loc 1 570 56 is_stmt 0 view .LVU305
 1124 0024 D0F80039 		ldr	r3, [r0, #2304]
 1125 0028 43F40013 		orr	r3, r3, #2097152
 1126 002c C0F80039 		str	r3, [r0, #2304]
 1127 0030 7047     		bx	lr
 1128              	.LVL74:
 1129              	.L84:
 571:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 572:bsp/libraries/drivers/src/at32f435_437_usb.c ****   else
 573:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 574:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.eptena == RESET)
 1130              		.loc 1 574 5 is_stmt 1 view .LVU306
 1131              		.loc 1 574 8 is_stmt 0 view .LVU307
 1132 0032 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1133 0034 00EB4313 		add	r3, r0, r3, lsl #5
 1134              		.loc 1 574 53 view .LVU308
 1135 0038 D3F8002B 		ldr	r2, [r3, #2816]
 1136              		.loc 1 574 7 view .LVU309
 1137 003c 002A     		cmp	r2, #0
 1138 003e 05DB     		blt	.L87
 575:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 576:bsp/libraries/drivers/src/at32f435_437_usb.c ****       USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.eptdis = FALSE;
 1139              		.loc 1 576 7 is_stmt 1 view .LVU310
 1140              		.loc 1 576 60 is_stmt 0 view .LVU311
 1141 0040 D3F8002B 		ldr	r2, [r3, #2816]
 1142 0044 6FF39E72 		bfc	r2, #30, #1
 1143 0048 C3F8002B 		str	r2, [r3, #2816]
 1144              	.L87:
 577:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 578:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.stall = TRUE;
 1145              		.loc 1 578 5 is_stmt 1 view .LVU312
 1146 004c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1147 004e 00EB4310 		add	r0, r0, r3, lsl #5
 1148              	.LVL75:
 1149              		.loc 1 578 57 is_stmt 0 view .LVU313
 1150 0052 D0F8003B 		ldr	r3, [r0, #2816]
 1151 0056 43F40013 		orr	r3, r3, #2097152
 1152 005a C0F8003B 		str	r3, [r0, #2816]
 579:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 580:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1153              		.loc 1 580 1 view .LVU314
 1154 005e 7047     		bx	lr
 1155              		.cfi_endproc
 1156              	.LFE153:
 1158              		.section	.text.usb_ept_clear_stall,"ax",%progbits
 1159              		.align	1
 1160              		.global	usb_ept_clear_stall
 1161              		.syntax unified
 1162              		.thumb
 1163              		.thumb_func
 1165              	usb_ept_clear_stall:
 1166              	.LVL76:
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 32


 1167              	.LFB154:
 581:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 582:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 583:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  clear endpoint tx or rx status to stall
 584:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 585:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 586:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 587:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 588:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  ept_info: endpoint information structure
 589:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 590:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 591:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_ept_clear_stall(otg_global_type *usbx, usb_ept_info *ept_info)
 592:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1168              		.loc 1 592 1 is_stmt 1 view -0
 1169              		.cfi_startproc
 1170              		@ args = 0, pretend = 0, frame = 0
 1171              		@ frame_needed = 0, uses_anonymous_args = 0
 1172              		@ link register save eliminated.
 593:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(ept_info->inout == EPT_DIR_IN)
 1173              		.loc 1 593 3 view .LVU316
 1174              		.loc 1 593 14 is_stmt 0 view .LVU317
 1175 0000 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 1176              		.loc 1 593 5 view .LVU318
 1177 0002 C3B9     		cbnz	r3, .L89
 594:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 595:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.stall = FALSE;
 1178              		.loc 1 595 5 is_stmt 1 view .LVU319
 1179 0004 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1180 0006 00EB4313 		add	r3, r0, r3, lsl #5
 1181              		.loc 1 595 56 is_stmt 0 view .LVU320
 1182 000a D3F80029 		ldr	r2, [r3, #2304]
 1183 000e 6FF35552 		bfc	r2, #21, #1
 1184 0012 C3F80029 		str	r2, [r3, #2304]
 596:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(ept_info->trans_type == EPT_INT_TYPE || ept_info->trans_type == EPT_BULK_TYPE)
 1185              		.loc 1 596 5 is_stmt 1 view .LVU321
 1186              		.loc 1 596 16 is_stmt 0 view .LVU322
 1187 0016 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 1188              		.loc 1 596 45 view .LVU323
 1189 0018 023B     		subs	r3, r3, #2
 1190 001a DBB2     		uxtb	r3, r3
 1191              		.loc 1 596 7 view .LVU324
 1192 001c 012B     		cmp	r3, #1
 1193 001e 00D9     		bls	.L91
 1194              	.LVL77:
 1195              	.L88:
 597:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 598:bsp/libraries/drivers/src/at32f435_437_usb.c ****       USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.setd0pid = TRUE;
 599:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 600:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 601:bsp/libraries/drivers/src/at32f435_437_usb.c ****   else
 602:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 603:bsp/libraries/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.stall = FALSE;
 604:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(ept_info->trans_type == EPT_INT_TYPE || ept_info->trans_type == EPT_BULK_TYPE)
 605:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 606:bsp/libraries/drivers/src/at32f435_437_usb.c ****       USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.setd0pid = TRUE;
 607:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 608:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 33


 609:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1196              		.loc 1 609 1 view .LVU325
 1197 0020 7047     		bx	lr
 1198              	.LVL78:
 1199              	.L91:
 598:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 1200              		.loc 1 598 7 is_stmt 1 view .LVU326
 1201 0022 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1202 0024 00EB4310 		add	r0, r0, r3, lsl #5
 1203              	.LVL79:
 598:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 1204              		.loc 1 598 61 is_stmt 0 view .LVU327
 1205 0028 D0F80039 		ldr	r3, [r0, #2304]
 1206 002c 43F08053 		orr	r3, r3, #268435456
 1207 0030 C0F80039 		str	r3, [r0, #2304]
 1208 0034 7047     		bx	lr
 1209              	.LVL80:
 1210              	.L89:
 603:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(ept_info->trans_type == EPT_INT_TYPE || ept_info->trans_type == EPT_BULK_TYPE)
 1211              		.loc 1 603 5 is_stmt 1 view .LVU328
 1212 0036 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1213 0038 00EB4313 		add	r3, r0, r3, lsl #5
 603:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if(ept_info->trans_type == EPT_INT_TYPE || ept_info->trans_type == EPT_BULK_TYPE)
 1214              		.loc 1 603 57 is_stmt 0 view .LVU329
 1215 003c D3F8002B 		ldr	r2, [r3, #2816]
 1216 0040 6FF35552 		bfc	r2, #21, #1
 1217 0044 C3F8002B 		str	r2, [r3, #2816]
 604:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 1218              		.loc 1 604 5 is_stmt 1 view .LVU330
 604:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 1219              		.loc 1 604 16 is_stmt 0 view .LVU331
 1220 0048 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 604:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 1221              		.loc 1 604 45 view .LVU332
 1222 004a 023B     		subs	r3, r3, #2
 1223 004c DBB2     		uxtb	r3, r3
 604:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 1224              		.loc 1 604 7 view .LVU333
 1225 004e 012B     		cmp	r3, #1
 1226 0050 E6D8     		bhi	.L88
 606:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 1227              		.loc 1 606 7 is_stmt 1 view .LVU334
 1228 0052 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1229 0054 00EB4310 		add	r0, r0, r3, lsl #5
 1230              	.LVL81:
 606:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 1231              		.loc 1 606 62 is_stmt 0 view .LVU335
 1232 0058 D0F8003B 		ldr	r3, [r0, #2816]
 1233 005c 43F08053 		orr	r3, r3, #268435456
 1234 0060 C0F8003B 		str	r3, [r0, #2816]
 1235              		.loc 1 609 1 view .LVU336
 1236 0064 DCE7     		b	.L88
 1237              		.cfi_endproc
 1238              	.LFE154:
 1240              		.section	.text.usb_get_all_out_interrupt,"ax",%progbits
 1241              		.align	1
 1242              		.global	usb_get_all_out_interrupt
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 34


 1243              		.syntax unified
 1244              		.thumb
 1245              		.thumb_func
 1247              	usb_get_all_out_interrupt:
 1248              	.LVL82:
 1249              	.LFB155:
 610:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 611:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 612:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  get all out endpoint interrupt bits
 613:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 614:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 615:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 616:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 617:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval out endpoint interrupt bits
 618:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 619:bsp/libraries/drivers/src/at32f435_437_usb.c **** uint32_t usb_get_all_out_interrupt(otg_global_type *usbx)
 620:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1250              		.loc 1 620 1 is_stmt 1 view -0
 1251              		.cfi_startproc
 1252              		@ args = 0, pretend = 0, frame = 0
 1253              		@ frame_needed = 0, uses_anonymous_args = 0
 1254              		@ link register save eliminated.
 621:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t intsts = OTG_DEVICE(usbx)->daint;
 1255              		.loc 1 621 3 view .LVU338
 1256              		.loc 1 621 12 is_stmt 0 view .LVU339
 1257 0000 D0F81838 		ldr	r3, [r0, #2072]
 1258              		.loc 1 621 21 view .LVU340
 1259 0004 00F50060 		add	r0, r0, #2048
 1260              	.LVL83:
 622:bsp/libraries/drivers/src/at32f435_437_usb.c ****   return ((intsts & (OTG_DEVICE(usbx)->daintmsk)) >> 16);
 1261              		.loc 1 622 3 is_stmt 1 view .LVU341
 1262              		.loc 1 622 38 is_stmt 0 view .LVU342
 1263 0008 C069     		ldr	r0, [r0, #28]
 1264              	.LVL84:
 1265              		.loc 1 622 19 view .LVU343
 1266 000a 1840     		ands	r0, r0, r3
 623:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1267              		.loc 1 623 1 view .LVU344
 1268 000c 000C     		lsrs	r0, r0, #16
 1269 000e 7047     		bx	lr
 1270              		.cfi_endproc
 1271              	.LFE155:
 1273              		.section	.text.usb_get_all_in_interrupt,"ax",%progbits
 1274              		.align	1
 1275              		.global	usb_get_all_in_interrupt
 1276              		.syntax unified
 1277              		.thumb
 1278              		.thumb_func
 1280              	usb_get_all_in_interrupt:
 1281              	.LVL85:
 1282              	.LFB156:
 624:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 625:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 626:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  get all in endpoint interrupt bits
 627:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 628:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 629:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 35


 630:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 631:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval in endpoint interrupt bits
 632:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 633:bsp/libraries/drivers/src/at32f435_437_usb.c **** uint32_t usb_get_all_in_interrupt(otg_global_type *usbx)
 634:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1283              		.loc 1 634 1 is_stmt 1 view -0
 1284              		.cfi_startproc
 1285              		@ args = 0, pretend = 0, frame = 0
 1286              		@ frame_needed = 0, uses_anonymous_args = 0
 1287              		@ link register save eliminated.
 635:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t intsts = OTG_DEVICE(usbx)->daint;
 1288              		.loc 1 635 3 view .LVU346
 1289              		.loc 1 635 12 is_stmt 0 view .LVU347
 1290 0000 D0F81838 		ldr	r3, [r0, #2072]
 1291              		.loc 1 635 21 view .LVU348
 1292 0004 00F50060 		add	r0, r0, #2048
 1293              	.LVL86:
 636:bsp/libraries/drivers/src/at32f435_437_usb.c ****   return ((intsts & (OTG_DEVICE(usbx)->daintmsk)) & 0xFFFF);
 1294              		.loc 1 636 3 is_stmt 1 view .LVU349
 1295              		.loc 1 636 38 is_stmt 0 view .LVU350
 1296 0008 C069     		ldr	r0, [r0, #28]
 1297              	.LVL87:
 1298              		.loc 1 636 19 view .LVU351
 1299 000a 1840     		ands	r0, r0, r3
 637:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1300              		.loc 1 637 1 view .LVU352
 1301 000c 80B2     		uxth	r0, r0
 1302 000e 7047     		bx	lr
 1303              		.cfi_endproc
 1304              	.LFE156:
 1306              		.section	.text.usb_ept_out_interrupt,"ax",%progbits
 1307              		.align	1
 1308              		.global	usb_ept_out_interrupt
 1309              		.syntax unified
 1310              		.thumb
 1311              		.thumb_func
 1313              	usb_ept_out_interrupt:
 1314              	.LVL88:
 1315              	.LFB157:
 638:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 639:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 640:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 641:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  get out endpoint interrupt flag
 642:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 643:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 644:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 645:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 646:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  eptn: endpoint number
 647:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval out endpoint interrupt flags
 648:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 649:bsp/libraries/drivers/src/at32f435_437_usb.c **** uint32_t usb_ept_out_interrupt(otg_global_type *usbx, uint32_t eptn)
 650:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1316              		.loc 1 650 1 is_stmt 1 view -0
 1317              		.cfi_startproc
 1318              		@ args = 0, pretend = 0, frame = 0
 1319              		@ frame_needed = 0, uses_anonymous_args = 0
 1320              		@ link register save eliminated.
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 36


 651:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t intsts = USB_OUTEPT(usbx, eptn)->doepint;
 1321              		.loc 1 651 3 view .LVU354
 1322              		.loc 1 651 21 is_stmt 0 view .LVU355
 1323 0000 00EB4111 		add	r1, r0, r1, lsl #5
 1324              	.LVL89:
 1325              		.loc 1 651 12 view .LVU356
 1326 0004 D1F8083B 		ldr	r3, [r1, #2824]
 1327              	.LVL90:
 652:bsp/libraries/drivers/src/at32f435_437_usb.c ****   return (intsts & (OTG_DEVICE(usbx)->doepmsk));
 1328              		.loc 1 652 3 is_stmt 1 view .LVU357
 1329              		.loc 1 652 21 is_stmt 0 view .LVU358
 1330 0008 00F50060 		add	r0, r0, #2048
 1331              	.LVL91:
 1332              		.loc 1 652 37 view .LVU359
 1333 000c 4069     		ldr	r0, [r0, #20]
 1334              	.LVL92:
 653:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1335              		.loc 1 653 1 view .LVU360
 1336 000e 1840     		ands	r0, r0, r3
 1337 0010 7047     		bx	lr
 1338              		.cfi_endproc
 1339              	.LFE157:
 1341              		.section	.text.usb_ept_in_interrupt,"ax",%progbits
 1342              		.align	1
 1343              		.global	usb_ept_in_interrupt
 1344              		.syntax unified
 1345              		.thumb
 1346              		.thumb_func
 1348              	usb_ept_in_interrupt:
 1349              	.LVL93:
 1350              	.LFB158:
 654:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 655:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 656:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  get in endpoint interrupt flag
 657:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 658:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 659:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 660:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 661:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  eptn: endpoint number
 662:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval in endpoint intterupt flags
 663:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 664:bsp/libraries/drivers/src/at32f435_437_usb.c **** uint32_t usb_ept_in_interrupt(otg_global_type *usbx, uint32_t eptn)
 665:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1351              		.loc 1 665 1 is_stmt 1 view -0
 1352              		.cfi_startproc
 1353              		@ args = 0, pretend = 0, frame = 0
 1354              		@ frame_needed = 0, uses_anonymous_args = 0
 1355              		@ link register save eliminated.
 1356              		.loc 1 665 1 is_stmt 0 view .LVU362
 1357 0000 10B4     		push	{r4}
 1358              	.LCFI5:
 1359              		.cfi_def_cfa_offset 4
 1360              		.cfi_offset 4, -4
 666:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t intsts, mask1, mask2;
 1361              		.loc 1 666 3 is_stmt 1 view .LVU363
 667:bsp/libraries/drivers/src/at32f435_437_usb.c ****   mask1 = OTG_DEVICE(usbx)->diepmsk;
 1362              		.loc 1 667 3 view .LVU364
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 37


 1363              		.loc 1 667 9 is_stmt 0 view .LVU365
 1364 0002 D0F81048 		ldr	r4, [r0, #2064]
 1365              	.LVL94:
 668:bsp/libraries/drivers/src/at32f435_437_usb.c ****   mask2 = OTG_DEVICE(usbx)->diepempmsk;
 1366              		.loc 1 668 3 is_stmt 1 view .LVU366
 1367              		.loc 1 668 9 is_stmt 0 view .LVU367
 1368 0006 D0F83438 		ldr	r3, [r0, #2100]
 1369              	.LVL95:
 669:bsp/libraries/drivers/src/at32f435_437_usb.c ****   mask1 |= ((mask2 >> eptn) & 0x1) << 7;
 1370              		.loc 1 669 3 is_stmt 1 view .LVU368
 1371              		.loc 1 669 20 is_stmt 0 view .LVU369
 1372 000a CB40     		lsrs	r3, r3, r1
 1373              	.LVL96:
 1374              		.loc 1 669 36 view .LVU370
 1375 000c DB01     		lsls	r3, r3, #7
 1376 000e DBB2     		uxtb	r3, r3
 1377              		.loc 1 669 9 view .LVU371
 1378 0010 2343     		orrs	r3, r3, r4
 1379              	.LVL97:
 670:bsp/libraries/drivers/src/at32f435_437_usb.c ****   intsts = USB_INEPT(usbx, eptn)->diepint & mask1;
 1380              		.loc 1 670 3 is_stmt 1 view .LVU372
 1381              		.loc 1 670 12 is_stmt 0 view .LVU373
 1382 0012 00EB4110 		add	r0, r0, r1, lsl #5
 1383              	.LVL98:
 1384              		.loc 1 670 12 view .LVU374
 1385 0016 00F51060 		add	r0, r0, #2304
 1386              		.loc 1 670 33 view .LVU375
 1387 001a 8068     		ldr	r0, [r0, #8]
 1388              	.LVL99:
 671:bsp/libraries/drivers/src/at32f435_437_usb.c ****   return intsts;
 1389              		.loc 1 671 3 is_stmt 1 view .LVU376
 672:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1390              		.loc 1 672 1 is_stmt 0 view .LVU377
 1391 001c 1840     		ands	r0, r0, r3
 1392              	.LVL100:
 1393              		.loc 1 672 1 view .LVU378
 1394 001e 10BC     		pop	{r4}
 1395              	.LCFI6:
 1396              		.cfi_restore 4
 1397              		.cfi_def_cfa_offset 0
 1398 0020 7047     		bx	lr
 1399              		.cfi_endproc
 1400              	.LFE158:
 1402              		.section	.text.usb_ept_out_clear,"ax",%progbits
 1403              		.align	1
 1404              		.global	usb_ept_out_clear
 1405              		.syntax unified
 1406              		.thumb
 1407              		.thumb_func
 1409              	usb_ept_out_clear:
 1410              	.LVL101:
 1411              	.LFB159:
 673:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 674:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 675:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  clear out endpoint interrupt flag
 676:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 677:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 38


 678:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 679:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 680:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  eptn: endpoint number
 681:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval flag: interrupt flag
 682:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be any combination of the following values:
 683:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DOEPINT_XFERC_FLAG
 684:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DOEPINT_EPTDISD_FLAG
 685:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DOEPINT_SETUP_FLAG
 686:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DOEPINT_OTEPDIS_FLAG
 687:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DOEPINT_B2BSTUP_FLAG
 688:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 689:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_ept_out_clear(otg_global_type *usbx, uint32_t eptn, uint32_t flag)
 690:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1412              		.loc 1 690 1 is_stmt 1 view -0
 1413              		.cfi_startproc
 1414              		@ args = 0, pretend = 0, frame = 0
 1415              		@ frame_needed = 0, uses_anonymous_args = 0
 1416              		@ link register save eliminated.
 691:bsp/libraries/drivers/src/at32f435_437_usb.c ****   USB_OUTEPT(usbx, eptn)->doepint = flag;
 1417              		.loc 1 691 3 view .LVU380
 1418 0000 00EB4110 		add	r0, r0, r1, lsl #5
 1419              	.LVL102:
 1420              		.loc 1 691 35 is_stmt 0 view .LVU381
 1421 0004 C0F8082B 		str	r2, [r0, #2824]
 692:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1422              		.loc 1 692 1 view .LVU382
 1423 0008 7047     		bx	lr
 1424              		.cfi_endproc
 1425              	.LFE159:
 1427              		.section	.text.usb_ept_in_clear,"ax",%progbits
 1428              		.align	1
 1429              		.global	usb_ept_in_clear
 1430              		.syntax unified
 1431              		.thumb
 1432              		.thumb_func
 1434              	usb_ept_in_clear:
 1435              	.LVL103:
 1436              	.LFB160:
 693:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 694:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 695:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  clear in endpoint interrupt flag
 696:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 697:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 698:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 699:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 700:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  eptn: endpoint number
 701:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval flag: interrupt flag
 702:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be any combination of the following values:
 703:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DIEPINT_XFERC_FLAG
 704:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DIEPINT_EPTDISD_FLAG
 705:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DIEPINT_TMROC_FLAG
 706:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DIEPINT_INTTXFE_FLAG
 707:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DIEPINT_INEPNE_FLAG
 708:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DIEPINT_TXFE_FLAG
 709:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 710:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_ept_in_clear(otg_global_type *usbx, uint32_t eptn, uint32_t flag)
 711:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 39


 1437              		.loc 1 711 1 is_stmt 1 view -0
 1438              		.cfi_startproc
 1439              		@ args = 0, pretend = 0, frame = 0
 1440              		@ frame_needed = 0, uses_anonymous_args = 0
 1441              		@ link register save eliminated.
 712:bsp/libraries/drivers/src/at32f435_437_usb.c ****   USB_INEPT(usbx, eptn)->diepint = flag;
 1442              		.loc 1 712 3 view .LVU384
 1443 0000 00EB4110 		add	r0, r0, r1, lsl #5
 1444              	.LVL104:
 1445              		.loc 1 712 34 is_stmt 0 view .LVU385
 1446 0004 C0F80829 		str	r2, [r0, #2312]
 713:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1447              		.loc 1 713 1 view .LVU386
 1448 0008 7047     		bx	lr
 1449              		.cfi_endproc
 1450              	.LFE160:
 1452              		.section	.text.usb_set_address,"ax",%progbits
 1453              		.align	1
 1454              		.global	usb_set_address
 1455              		.syntax unified
 1456              		.thumb
 1457              		.thumb_func
 1459              	usb_set_address:
 1460              	.LVL105:
 1461              	.LFB161:
 714:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 715:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 716:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 717:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  set the host assignment address
 718:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 719:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 720:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 721:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 722:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  address: host assignment address
 723:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 724:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 725:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_set_address(otg_global_type *usbx, uint8_t address)
 726:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1462              		.loc 1 726 1 is_stmt 1 view -0
 1463              		.cfi_startproc
 1464              		@ args = 0, pretend = 0, frame = 0
 1465              		@ frame_needed = 0, uses_anonymous_args = 0
 1466              		@ link register save eliminated.
 727:bsp/libraries/drivers/src/at32f435_437_usb.c ****   OTG_DEVICE(usbx)->dcfg_bit.devaddr = address;
 1467              		.loc 1 727 3 view .LVU388
 1468              		.loc 1 727 38 is_stmt 0 view .LVU389
 1469 0000 D0F80038 		ldr	r3, [r0, #2048]
 1470 0004 61F30A13 		bfi	r3, r1, #4, #7
 1471 0008 C0F80038 		str	r3, [r0, #2048]
 728:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1472              		.loc 1 728 1 view .LVU390
 1473 000c 7047     		bx	lr
 1474              		.cfi_endproc
 1475              	.LFE161:
 1477              		.section	.text.usb_ept0_start,"ax",%progbits
 1478              		.align	1
 1479              		.global	usb_ept0_start
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 40


 1480              		.syntax unified
 1481              		.thumb
 1482              		.thumb_func
 1484              	usb_ept0_start:
 1485              	.LVL106:
 1486              	.LFB162:
 729:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 730:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 731:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  enable endpoint 0 out
 732:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 733:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 734:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 735:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 736:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 737:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 738:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_ept0_start(otg_global_type *usbx)
 739:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1487              		.loc 1 739 1 is_stmt 1 view -0
 1488              		.cfi_startproc
 1489              		@ args = 0, pretend = 0, frame = 0
 1490              		@ frame_needed = 0, uses_anonymous_args = 0
 1491              		@ link register save eliminated.
 740:bsp/libraries/drivers/src/at32f435_437_usb.c ****   otg_eptout_type *usb_outept = USB_OUTEPT(usbx, 0);
 1492              		.loc 1 740 3 view .LVU392
 741:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usb_outept->doeptsiz = 0;
 1493              		.loc 1 741 3 view .LVU393
 1494              		.loc 1 741 24 is_stmt 0 view .LVU394
 1495 0000 0023     		movs	r3, #0
 1496 0002 C0F8103B 		str	r3, [r0, #2832]
 742:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usb_outept->doeptsiz_bit.pktcnt = 1;
 1497              		.loc 1 742 3 is_stmt 1 view .LVU395
 1498              		.loc 1 742 35 is_stmt 0 view .LVU396
 1499 0006 D0F8103B 		ldr	r3, [r0, #2832]
 1500 000a 0122     		movs	r2, #1
 1501 000c 62F3DC43 		bfi	r3, r2, #19, #10
 1502 0010 C0F8103B 		str	r3, [r0, #2832]
 743:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usb_outept->doeptsiz_bit.xfersize = 24;
 1503              		.loc 1 743 3 is_stmt 1 view .LVU397
 1504              		.loc 1 743 37 is_stmt 0 view .LVU398
 1505 0014 D0F8103B 		ldr	r3, [r0, #2832]
 1506 0018 1822     		movs	r2, #24
 1507 001a 62F31203 		bfi	r3, r2, #0, #19
 1508 001e C0F8103B 		str	r3, [r0, #2832]
 744:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usb_outept->doeptsiz_bit.rxdpid_setupcnt = 3;
 1509              		.loc 1 744 3 is_stmt 1 view .LVU399
 1510              		.loc 1 744 44 is_stmt 0 view .LVU400
 1511 0022 D0F8103B 		ldr	r3, [r0, #2832]
 1512 0026 43F0C043 		orr	r3, r3, #1610612736
 1513 002a C0F8103B 		str	r3, [r0, #2832]
 745:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1514              		.loc 1 745 1 view .LVU401
 1515 002e 7047     		bx	lr
 1516              		.cfi_endproc
 1517              	.LFE162:
 1519              		.section	.text.usb_ept0_setup,"ax",%progbits
 1520              		.align	1
 1521              		.global	usb_ept0_setup
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 41


 1522              		.syntax unified
 1523              		.thumb
 1524              		.thumb_func
 1526              	usb_ept0_setup:
 1527              	.LVL107:
 1528              	.LFB163:
 746:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 747:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 748:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 749:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  endpoint 0 start setup
 750:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 751:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 752:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 753:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 754:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 755:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 756:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_ept0_setup(otg_global_type *usbx)
 757:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1529              		.loc 1 757 1 is_stmt 1 view -0
 1530              		.cfi_startproc
 1531              		@ args = 0, pretend = 0, frame = 0
 1532              		@ frame_needed = 0, uses_anonymous_args = 0
 1533              		@ link register save eliminated.
 758:bsp/libraries/drivers/src/at32f435_437_usb.c ****   USB_INEPT(usbx, 0)->diepctl_bit.mps = 0;
 1534              		.loc 1 758 3 view .LVU403
 1535              		.loc 1 758 39 is_stmt 0 view .LVU404
 1536 0000 D0F80039 		ldr	r3, [r0, #2304]
 1537 0004 6FF30A03 		bfc	r3, #0, #11
 1538 0008 C0F80039 		str	r3, [r0, #2304]
 759:bsp/libraries/drivers/src/at32f435_437_usb.c ****   OTG_DEVICE(usbx)->dctl_bit.cgnpinak = FALSE;
 1539              		.loc 1 759 3 is_stmt 1 view .LVU405
 1540              		.loc 1 759 39 is_stmt 0 view .LVU406
 1541 000c D0F80438 		ldr	r3, [r0, #2052]
 1542 0010 6FF30823 		bfc	r3, #8, #1
 1543 0014 C0F80438 		str	r3, [r0, #2052]
 760:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1544              		.loc 1 760 1 view .LVU407
 1545 0018 7047     		bx	lr
 1546              		.cfi_endproc
 1547              	.LFE163:
 1549              		.section	.text.usb_connect,"ax",%progbits
 1550              		.align	1
 1551              		.global	usb_connect
 1552              		.syntax unified
 1553              		.thumb
 1554              		.thumb_func
 1556              	usb_connect:
 1557              	.LVL108:
 1558              	.LFB164:
 761:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 762:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 763:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  connect usb device by enable pull-up
 764:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 765:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 766:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 767:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 768:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 42


 769:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 770:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_connect(otg_global_type *usbx)
 771:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1559              		.loc 1 771 1 is_stmt 1 view -0
 1560              		.cfi_startproc
 1561              		@ args = 0, pretend = 0, frame = 0
 1562              		@ frame_needed = 0, uses_anonymous_args = 0
 1563              		@ link register save eliminated.
 772:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* D+ 1.5k pull-up enable */
 773:bsp/libraries/drivers/src/at32f435_437_usb.c ****   OTG_DEVICE(usbx)->dctl_bit.sftdiscon = FALSE;
 1564              		.loc 1 773 3 view .LVU409
 1565              		.loc 1 773 40 is_stmt 0 view .LVU410
 1566 0000 D0F80438 		ldr	r3, [r0, #2052]
 1567 0004 6FF34103 		bfc	r3, #1, #1
 1568 0008 C0F80438 		str	r3, [r0, #2052]
 774:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1569              		.loc 1 774 1 view .LVU411
 1570 000c 7047     		bx	lr
 1571              		.cfi_endproc
 1572              	.LFE164:
 1574              		.section	.text.usb_disconnect,"ax",%progbits
 1575              		.align	1
 1576              		.global	usb_disconnect
 1577              		.syntax unified
 1578              		.thumb
 1579              		.thumb_func
 1581              	usb_disconnect:
 1582              	.LVL109:
 1583              	.LFB165:
 775:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 776:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 777:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  disconnect usb device by disable pull-up
 778:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 779:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 780:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 781:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 782:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 783:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 784:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_disconnect(otg_global_type *usbx)
 785:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1584              		.loc 1 785 1 is_stmt 1 view -0
 1585              		.cfi_startproc
 1586              		@ args = 0, pretend = 0, frame = 0
 1587              		@ frame_needed = 0, uses_anonymous_args = 0
 1588              		@ link register save eliminated.
 786:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* D+ 1.5k pull-up disable */
 787:bsp/libraries/drivers/src/at32f435_437_usb.c ****   OTG_DEVICE(usbx)->dctl_bit.sftdiscon = TRUE;
 1589              		.loc 1 787 3 view .LVU413
 1590              		.loc 1 787 40 is_stmt 0 view .LVU414
 1591 0000 D0F80438 		ldr	r3, [r0, #2052]
 1592 0004 43F00203 		orr	r3, r3, #2
 1593 0008 C0F80438 		str	r3, [r0, #2052]
 788:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1594              		.loc 1 788 1 view .LVU415
 1595 000c 7047     		bx	lr
 1596              		.cfi_endproc
 1597              	.LFE165:
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 43


 1599              		.section	.text.usb_remote_wkup_set,"ax",%progbits
 1600              		.align	1
 1601              		.global	usb_remote_wkup_set
 1602              		.syntax unified
 1603              		.thumb
 1604              		.thumb_func
 1606              	usb_remote_wkup_set:
 1607              	.LVL110:
 1608              	.LFB166:
 789:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 790:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 791:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 792:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  usb remote wakeup set
 793:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 794:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 795:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 796:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 797:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 798:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 799:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_remote_wkup_set(otg_global_type *usbx)
 800:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1609              		.loc 1 800 1 is_stmt 1 view -0
 1610              		.cfi_startproc
 1611              		@ args = 0, pretend = 0, frame = 0
 1612              		@ frame_needed = 0, uses_anonymous_args = 0
 1613              		@ link register save eliminated.
 801:bsp/libraries/drivers/src/at32f435_437_usb.c ****   OTG_DEVICE(usbx)->dctl_bit.rwkupsig = TRUE;
 1614              		.loc 1 801 3 view .LVU417
 1615              		.loc 1 801 39 is_stmt 0 view .LVU418
 1616 0000 D0F80438 		ldr	r3, [r0, #2052]
 1617 0004 43F00103 		orr	r3, r3, #1
 1618 0008 C0F80438 		str	r3, [r0, #2052]
 802:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1619              		.loc 1 802 1 view .LVU419
 1620 000c 7047     		bx	lr
 1621              		.cfi_endproc
 1622              	.LFE166:
 1624              		.section	.text.usb_remote_wkup_clear,"ax",%progbits
 1625              		.align	1
 1626              		.global	usb_remote_wkup_clear
 1627              		.syntax unified
 1628              		.thumb
 1629              		.thumb_func
 1631              	usb_remote_wkup_clear:
 1632              	.LVL111:
 1633              	.LFB167:
 803:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 804:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 805:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  usb remote wakeup clear
 806:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 807:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 808:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 809:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 810:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 811:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 812:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_remote_wkup_clear(otg_global_type *usbx)
 813:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 44


 1634              		.loc 1 813 1 is_stmt 1 view -0
 1635              		.cfi_startproc
 1636              		@ args = 0, pretend = 0, frame = 0
 1637              		@ frame_needed = 0, uses_anonymous_args = 0
 1638              		@ link register save eliminated.
 814:bsp/libraries/drivers/src/at32f435_437_usb.c ****   OTG_DEVICE(usbx)->dctl_bit.rwkupsig = FALSE;
 1639              		.loc 1 814 3 view .LVU421
 1640              		.loc 1 814 39 is_stmt 0 view .LVU422
 1641 0000 D0F80438 		ldr	r3, [r0, #2052]
 1642 0004 6FF30003 		bfc	r3, #0, #1
 1643 0008 C0F80438 		str	r3, [r0, #2052]
 815:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1644              		.loc 1 815 1 view .LVU423
 1645 000c 7047     		bx	lr
 1646              		.cfi_endproc
 1647              	.LFE167:
 1649              		.section	.text.usb_suspend_status_get,"ax",%progbits
 1650              		.align	1
 1651              		.global	usb_suspend_status_get
 1652              		.syntax unified
 1653              		.thumb
 1654              		.thumb_func
 1656              	usb_suspend_status_get:
 1657              	.LVL112:
 1658              	.LFB168:
 816:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 817:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 818:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  usb suspend status get
 819:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 820:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 821:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 822:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 823:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval usb suspend status
 824:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 825:bsp/libraries/drivers/src/at32f435_437_usb.c **** uint8_t usb_suspend_status_get(otg_global_type *usbx)
 826:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1659              		.loc 1 826 1 is_stmt 1 view -0
 1660              		.cfi_startproc
 1661              		@ args = 0, pretend = 0, frame = 0
 1662              		@ frame_needed = 0, uses_anonymous_args = 0
 1663              		@ link register save eliminated.
 827:bsp/libraries/drivers/src/at32f435_437_usb.c ****   return OTG_DEVICE(usbx)->dsts_bit.suspsts;
 1664              		.loc 1 827 3 view .LVU425
 1665              		.loc 1 827 10 is_stmt 0 view .LVU426
 1666 0000 00F50060 		add	r0, r0, #2048
 1667              	.LVL113:
 1668              		.loc 1 827 36 view .LVU427
 1669 0004 8068     		ldr	r0, [r0, #8]
 1670              	.LVL114:
 828:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1671              		.loc 1 828 1 view .LVU428
 1672 0006 00F00100 		and	r0, r0, #1
 1673 000a 7047     		bx	lr
 1674              		.cfi_endproc
 1675              	.LFE168:
 1677              		.section	.text.usb_port_power_on,"ax",%progbits
 1678              		.align	1
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 45


 1679              		.global	usb_port_power_on
 1680              		.syntax unified
 1681              		.thumb
 1682              		.thumb_func
 1684              	usb_port_power_on:
 1685              	.LVL115:
 1686              	.LFB169:
 829:bsp/libraries/drivers/src/at32f435_437_usb.c **** #endif
 830:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 831:bsp/libraries/drivers/src/at32f435_437_usb.c **** #ifdef OTGFS_USB_HOST
 832:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 833:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  usb port power on
 834:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 835:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 836:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 837:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 838:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  state: state (TRUE or FALSE)
 839:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 840:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 841:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_port_power_on(otg_global_type *usbx, confirm_state state)
 842:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1687              		.loc 1 842 1 is_stmt 1 view -0
 1688              		.cfi_startproc
 1689              		@ args = 0, pretend = 0, frame = 0
 1690              		@ frame_needed = 0, uses_anonymous_args = 0
 1691              		@ link register save eliminated.
 843:bsp/libraries/drivers/src/at32f435_437_usb.c ****   otg_host_type *usb_host = OTG_HOST(usbx);
 1692              		.loc 1 843 3 view .LVU430
 1693              		.loc 1 843 29 is_stmt 0 view .LVU431
 1694 0000 00F58060 		add	r0, r0, #1024
 1695              	.LVL116:
 844:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t hprt_val = usb_host->hprt;
 1696              		.loc 1 844 3 is_stmt 1 view .LVU432
 1697              		.loc 1 844 12 is_stmt 0 view .LVU433
 1698 0004 036C     		ldr	r3, [r0, #64]
 1699              	.LVL117:
 845:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 846:bsp/libraries/drivers/src/at32f435_437_usb.c ****   hprt_val &= ~(USB_OTG_HPRT_PRTENA | USB_OTG_HPRT_PRTENCHNG |
 1700              		.loc 1 846 3 is_stmt 1 view .LVU434
 1701              		.loc 1 846 12 is_stmt 0 view .LVU435
 1702 0006 23F01E02 		bic	r2, r3, #30
 1703              	.LVL118:
 847:bsp/libraries/drivers/src/at32f435_437_usb.c ****                USB_OTG_HPRT_PRTOVRCACT | USB_OTG_HPRT_PRTCONDET);
 848:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 849:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(state == TRUE)
 1704              		.loc 1 849 3 is_stmt 1 view .LVU436
 1705              		.loc 1 849 5 is_stmt 0 view .LVU437
 1706 000a 0129     		cmp	r1, #1
 1707 000c 05D0     		beq	.L110
 850:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 851:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usb_host->hprt = hprt_val | USB_OTG_HPRT_PRTPWR;
 852:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 853:bsp/libraries/drivers/src/at32f435_437_usb.c ****   else
 854:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 855:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usb_host->hprt = hprt_val & (~USB_OTG_HPRT_PRTPWR);
 1708              		.loc 1 855 5 is_stmt 1 view .LVU438
 1709              		.loc 1 855 31 is_stmt 0 view .LVU439
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 46


 1710 000e 23F48053 		bic	r3, r3, #4096
 1711 0012 23F01E03 		bic	r3, r3, #30
 1712              		.loc 1 855 20 view .LVU440
 1713 0016 0364     		str	r3, [r0, #64]
 856:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 857:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1714              		.loc 1 857 1 view .LVU441
 1715 0018 7047     		bx	lr
 1716              	.L110:
 851:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 1717              		.loc 1 851 5 is_stmt 1 view .LVU442
 851:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 1718              		.loc 1 851 31 is_stmt 0 view .LVU443
 1719 001a 42F48052 		orr	r2, r2, #4096
 1720              	.LVL119:
 851:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 1721              		.loc 1 851 20 view .LVU444
 1722 001e 0264     		str	r2, [r0, #64]
 1723 0020 7047     		bx	lr
 1724              		.cfi_endproc
 1725              	.LFE169:
 1727              		.section	.text.usbh_get_frame,"ax",%progbits
 1728              		.align	1
 1729              		.global	usbh_get_frame
 1730              		.syntax unified
 1731              		.thumb
 1732              		.thumb_func
 1734              	usbh_get_frame:
 1735              	.LVL120:
 1736              	.LFB170:
 858:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 859:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 860:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  get current frame number
 861:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 862:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 863:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 864:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 865:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 866:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 867:bsp/libraries/drivers/src/at32f435_437_usb.c **** uint32_t usbh_get_frame(otg_global_type *usbx)
 868:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1737              		.loc 1 868 1 is_stmt 1 view -0
 1738              		.cfi_startproc
 1739              		@ args = 0, pretend = 0, frame = 0
 1740              		@ frame_needed = 0, uses_anonymous_args = 0
 1741              		@ link register save eliminated.
 869:bsp/libraries/drivers/src/at32f435_437_usb.c ****   otg_host_type *usb_host = OTG_HOST(usbx);
 1742              		.loc 1 869 3 view .LVU446
 1743              		.loc 1 869 29 is_stmt 0 view .LVU447
 1744 0000 00F58060 		add	r0, r0, #1024
 1745              	.LVL121:
 870:bsp/libraries/drivers/src/at32f435_437_usb.c ****   return usb_host->hfnum & 0xFFFF;
 1746              		.loc 1 870 3 is_stmt 1 view .LVU448
 1747              		.loc 1 870 18 is_stmt 0 view .LVU449
 1748 0004 8068     		ldr	r0, [r0, #8]
 1749              	.LVL122:
 871:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 47


 1750              		.loc 1 871 1 view .LVU450
 1751 0006 80B2     		uxth	r0, r0
 1752 0008 7047     		bx	lr
 1753              		.cfi_endproc
 1754              	.LFE170:
 1756              		.section	.text.usb_hc_enable,"ax",%progbits
 1757              		.align	1
 1758              		.global	usb_hc_enable
 1759              		.syntax unified
 1760              		.thumb
 1761              		.thumb_func
 1763              	usb_hc_enable:
 1764              	.LVL123:
 1765              	.LFB171:
 872:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 873:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 874:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  enable one host channel
 875:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 876:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 877:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 878:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 879:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  chn: host channel number
 880:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  ept_num: devvice endpoint number
 881:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  dev_address: device address
 882:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  type: channel transfer type
 883:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 884:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - EPT_CONTROL_TYPE
 885:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - EPT_BULK_TYPE
 886:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - EPT_INT_TYPE
 887:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - EPT_ISO_TYPE
 888:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  maxpacket: support max packe size for this channel
 889:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  speed: device speed
 890:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 891:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_PRTSPD_FULL_SPEED
 892:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - USB_PRTSPD_LOW_SPEED
 893:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 894:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 895:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_hc_enable(otg_global_type *usbx,
 896:bsp/libraries/drivers/src/at32f435_437_usb.c ****                    uint8_t chn,
 897:bsp/libraries/drivers/src/at32f435_437_usb.c ****                    uint8_t ept_num,
 898:bsp/libraries/drivers/src/at32f435_437_usb.c ****                    uint8_t dev_address,
 899:bsp/libraries/drivers/src/at32f435_437_usb.c ****                    uint8_t type,
 900:bsp/libraries/drivers/src/at32f435_437_usb.c ****                    uint16_t maxpacket,
 901:bsp/libraries/drivers/src/at32f435_437_usb.c ****                    uint8_t speed)
 902:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1766              		.loc 1 902 1 is_stmt 1 view -0
 1767              		.cfi_startproc
 1768              		@ args = 12, pretend = 0, frame = 0
 1769              		@ frame_needed = 0, uses_anonymous_args = 0
 1770              		.loc 1 902 1 is_stmt 0 view .LVU452
 1771 0000 70B5     		push	{r4, r5, r6, lr}
 1772              	.LCFI7:
 1773              		.cfi_def_cfa_offset 16
 1774              		.cfi_offset 4, -16
 1775              		.cfi_offset 5, -12
 1776              		.cfi_offset 6, -8
 1777              		.cfi_offset 14, -4
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 48


 1778 0002 9DF810E0 		ldrb	lr, [sp, #16]	@ zero_extendqisi2
 903:bsp/libraries/drivers/src/at32f435_437_usb.c ****   otg_hchannel_type *hch = USB_CHL(usbx, chn);
 1779              		.loc 1 903 3 is_stmt 1 view .LVU453
 1780              		.loc 1 903 28 is_stmt 0 view .LVU454
 1781 0006 00EB411C 		add	ip, r0, r1, lsl #5
 1782 000a 0CF5A064 		add	r4, ip, #1280
 1783              	.LVL124:
 904:bsp/libraries/drivers/src/at32f435_437_usb.c ****   otg_host_type *usb_host = OTG_HOST(usbx);
 1784              		.loc 1 904 3 is_stmt 1 view .LVU455
 1785              		.loc 1 904 29 is_stmt 0 view .LVU456
 1786 000e 00F58066 		add	r6, r0, #1024
 1787              	.LVL125:
 905:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 906:bsp/libraries/drivers/src/at32f435_437_usb.c ****   switch(type)
 1788              		.loc 1 906 3 is_stmt 1 view .LVU457
 1789 0012 BEF1030F 		cmp	lr, #3
 1790 0016 17D8     		bhi	.L113
 1791 0018 DFE80EF0 		tbb	[pc, lr]
 1792              	.L115:
 1793 001c 02       		.byte	(.L116-.L115)/2
 1794 001d 51       		.byte	(.L117-.L115)/2
 1795 001e 02       		.byte	(.L116-.L115)/2
 1796 001f 10       		.byte	(.L114-.L115)/2
 1797              		.p2align 1
 1798              	.L116:
 907:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 908:bsp/libraries/drivers/src/at32f435_437_usb.c ****     case EPT_CONTROL_TYPE:
 909:bsp/libraries/drivers/src/at32f435_437_usb.c ****     case EPT_BULK_TYPE:
 910:bsp/libraries/drivers/src/at32f435_437_usb.c ****       hch->hcintmsk |= USB_OTG_HC_XFERCM_INT | USB_OTG_HC_STALLM_INT |
 1799              		.loc 1 910 7 view .LVU458
 1800              		.loc 1 910 21 is_stmt 0 view .LVU459
 1801 0020 E568     		ldr	r5, [r4, #12]
 1802 0022 45F49365 		orr	r5, r5, #1176
 1803 0026 45F00105 		orr	r5, r5, #1
 1804 002a E560     		str	r5, [r4, #12]
 911:bsp/libraries/drivers/src/at32f435_437_usb.c ****                        USB_OTG_HC_XACTERRM_INT | USB_OTG_HC_NAKM_INT |
 912:bsp/libraries/drivers/src/at32f435_437_usb.c ****                        USB_OTG_HC_DTGLERRM_INT;
 913:bsp/libraries/drivers/src/at32f435_437_usb.c ****       if(ept_num & 0x80)
 1805              		.loc 1 913 7 is_stmt 1 view .LVU460
 1806              		.loc 1 913 9 is_stmt 0 view .LVU461
 1807 002c 12F0800F 		tst	r2, #128
 1808 0030 0AD0     		beq	.L113
 914:bsp/libraries/drivers/src/at32f435_437_usb.c ****       {
 915:bsp/libraries/drivers/src/at32f435_437_usb.c ****         hch->hcintmsk_bit.bblerrmsk = TRUE;
 1809              		.loc 1 915 9 is_stmt 1 view .LVU462
 1810              		.loc 1 915 37 is_stmt 0 view .LVU463
 1811 0032 E568     		ldr	r5, [r4, #12]
 1812 0034 45F48075 		orr	r5, r5, #256
 1813 0038 E560     		str	r5, [r4, #12]
 1814              	.LVL126:
 1815              		.loc 1 915 37 view .LVU464
 1816 003a 05E0     		b	.L113
 1817              	.LVL127:
 1818              	.L114:
 916:bsp/libraries/drivers/src/at32f435_437_usb.c ****       }
 917:bsp/libraries/drivers/src/at32f435_437_usb.c ****       break;
 918:bsp/libraries/drivers/src/at32f435_437_usb.c ****     case EPT_INT_TYPE:
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 49


 919:bsp/libraries/drivers/src/at32f435_437_usb.c ****       hch->hcintmsk |= USB_OTG_HC_XFERCM_INT | USB_OTG_HC_STALLM_INT |
 1819              		.loc 1 919 7 is_stmt 1 view .LVU465
 1820              		.loc 1 919 21 is_stmt 0 view .LVU466
 1821 003c E568     		ldr	r5, [r4, #12]
 1822 003e 45F4D365 		orr	r5, r5, #1688
 1823 0042 45F00105 		orr	r5, r5, #1
 1824 0046 E560     		str	r5, [r4, #12]
 920:bsp/libraries/drivers/src/at32f435_437_usb.c ****                        USB_OTG_HC_XACTERRM_INT | USB_OTG_HC_NAKM_INT |
 921:bsp/libraries/drivers/src/at32f435_437_usb.c ****                        USB_OTG_HC_DTGLERRM_INT | USB_OTG_HC_FRMOVRRUN_INT;
 922:bsp/libraries/drivers/src/at32f435_437_usb.c ****       break;
 1825              		.loc 1 922 7 is_stmt 1 view .LVU467
 1826              	.LVL128:
 1827              	.L113:
 923:bsp/libraries/drivers/src/at32f435_437_usb.c ****     case EPT_ISO_TYPE:
 924:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 925:bsp/libraries/drivers/src/at32f435_437_usb.c ****       hch->hcintmsk |= USB_OTG_HC_XFERCM_INT | USB_OTG_HC_ACKM_INT |
 926:bsp/libraries/drivers/src/at32f435_437_usb.c ****                        USB_OTG_HC_FRMOVRRUN_INT;
 927:bsp/libraries/drivers/src/at32f435_437_usb.c ****       break;
 928:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 929:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usb_host->haintmsk |= 1 << chn;
 1828              		.loc 1 929 3 view .LVU468
 1829              		.loc 1 929 22 is_stmt 0 view .LVU469
 1830 0048 B469     		ldr	r4, [r6, #24]
 1831              	.LVL129:
 1832              		.loc 1 929 27 view .LVU470
 1833 004a 0125     		movs	r5, #1
 1834 004c 05FA01F1 		lsl	r1, r5, r1
 1835              	.LVL130:
 1836              		.loc 1 929 22 view .LVU471
 1837 0050 2143     		orrs	r1, r1, r4
 1838 0052 B161     		str	r1, [r6, #24]
 930:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->gintmsk_bit.hchintmsk = TRUE;
 1839              		.loc 1 930 3 is_stmt 1 view .LVU472
 1840              		.loc 1 930 31 is_stmt 0 view .LVU473
 1841 0054 8169     		ldr	r1, [r0, #24]
 1842 0056 41F00071 		orr	r1, r1, #33554432
 1843 005a 8161     		str	r1, [r0, #24]
 931:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 932:bsp/libraries/drivers/src/at32f435_437_usb.c ****   hch->hcchar_bit.devaddr = dev_address;
 1844              		.loc 1 932 3 is_stmt 1 view .LVU474
 1845              		.loc 1 932 27 is_stmt 0 view .LVU475
 1846 005c DCF80015 		ldr	r1, [ip, #1280]
 1847 0060 63F39C51 		bfi	r1, r3, #22, #7
 1848 0064 CCF80015 		str	r1, [ip, #1280]
 933:bsp/libraries/drivers/src/at32f435_437_usb.c ****   hch->hcchar_bit.eptnum = ept_num & 0x7F;
 1849              		.loc 1 933 3 is_stmt 1 view .LVU476
 1850              		.loc 1 933 26 is_stmt 0 view .LVU477
 1851 0068 DCF80035 		ldr	r3, [ip, #1280]
 1852              	.LVL131:
 1853              		.loc 1 933 26 view .LVU478
 1854 006c 62F3CE23 		bfi	r3, r2, #11, #4
 1855 0070 CCF80035 		str	r3, [ip, #1280]
 934:bsp/libraries/drivers/src/at32f435_437_usb.c ****   hch->hcchar_bit.eptdir = (ept_num & 0x80)?1:0;
 1856              		.loc 1 934 3 is_stmt 1 view .LVU479
 1857              		.loc 1 934 46 is_stmt 0 view .LVU480
 1858 0074 D209     		lsrs	r2, r2, #7
 1859              	.LVL132:
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 50


 1860              		.loc 1 934 26 view .LVU481
 1861 0076 DCF80035 		ldr	r3, [ip, #1280]
 1862 007a 62F3CF33 		bfi	r3, r2, #15, #1
 1863 007e CCF80035 		str	r3, [ip, #1280]
 935:bsp/libraries/drivers/src/at32f435_437_usb.c ****   hch->hcchar_bit.lspddev = (speed == USB_PRTSPD_LOW_SPEED)?1:0;
 1864              		.loc 1 935 3 is_stmt 1 view .LVU482
 1865              		.loc 1 935 62 is_stmt 0 view .LVU483
 1866 0082 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
 1867 0086 022B     		cmp	r3, #2
 1868 0088 14BF     		ite	ne
 1869 008a 0023     		movne	r3, #0
 1870 008c 0123     		moveq	r3, #1
 1871              		.loc 1 935 27 view .LVU484
 1872 008e DCF80025 		ldr	r2, [ip, #1280]
 1873 0092 63F35142 		bfi	r2, r3, #17, #1
 1874 0096 CCF80025 		str	r2, [ip, #1280]
 936:bsp/libraries/drivers/src/at32f435_437_usb.c ****   hch->hcchar_bit.eptype = type;
 1875              		.loc 1 936 3 is_stmt 1 view .LVU485
 1876              		.loc 1 936 26 is_stmt 0 view .LVU486
 1877 009a DCF80035 		ldr	r3, [ip, #1280]
 1878 009e 6EF39343 		bfi	r3, lr, #18, #2
 1879 00a2 CCF80035 		str	r3, [ip, #1280]
 937:bsp/libraries/drivers/src/at32f435_437_usb.c ****   hch->hcchar_bit.mps = maxpacket;
 1880              		.loc 1 937 3 is_stmt 1 view .LVU487
 1881              		.loc 1 937 23 is_stmt 0 view .LVU488
 1882 00a6 DCF80035 		ldr	r3, [ip, #1280]
 1883 00aa BDF81420 		ldrh	r2, [sp, #20]
 1884 00ae 62F30A03 		bfi	r3, r2, #0, #11
 1885 00b2 CCF80035 		str	r3, [ip, #1280]
 938:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 939:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(type == EPT_INT_TYPE)
 1886              		.loc 1 939 3 is_stmt 1 view .LVU489
 1887              		.loc 1 939 5 is_stmt 0 view .LVU490
 1888 00b6 BEF1030F 		cmp	lr, #3
 1889 00ba 07D0     		beq	.L120
 1890              	.L112:
 940:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 941:bsp/libraries/drivers/src/at32f435_437_usb.c ****     hch->hcchar_bit.oddfrm = TRUE;
 942:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 943:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1891              		.loc 1 943 1 view .LVU491
 1892 00bc 70BD     		pop	{r4, r5, r6, pc}
 1893              	.LVL133:
 1894              	.L117:
 925:bsp/libraries/drivers/src/at32f435_437_usb.c ****                        USB_OTG_HC_FRMOVRRUN_INT;
 1895              		.loc 1 925 7 is_stmt 1 view .LVU492
 925:bsp/libraries/drivers/src/at32f435_437_usb.c ****                        USB_OTG_HC_FRMOVRRUN_INT;
 1896              		.loc 1 925 21 is_stmt 0 view .LVU493
 1897 00be E568     		ldr	r5, [r4, #12]
 1898 00c0 45F40875 		orr	r5, r5, #544
 1899 00c4 45F00105 		orr	r5, r5, #1
 1900 00c8 E560     		str	r5, [r4, #12]
 927:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 1901              		.loc 1 927 7 is_stmt 1 view .LVU494
 1902 00ca BDE7     		b	.L113
 1903              	.LVL134:
 1904              	.L120:
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 51


 941:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 1905              		.loc 1 941 5 view .LVU495
 941:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 1906              		.loc 1 941 28 is_stmt 0 view .LVU496
 1907 00cc DCF80035 		ldr	r3, [ip, #1280]
 1908 00d0 43F00053 		orr	r3, r3, #536870912
 1909 00d4 CCF80035 		str	r3, [ip, #1280]
 1910              		.loc 1 943 1 view .LVU497
 1911 00d8 F0E7     		b	.L112
 1912              		.cfi_endproc
 1913              	.LFE171:
 1915              		.section	.text.usb_hch_read_interrupt,"ax",%progbits
 1916              		.align	1
 1917              		.global	usb_hch_read_interrupt
 1918              		.syntax unified
 1919              		.thumb
 1920              		.thumb_func
 1922              	usb_hch_read_interrupt:
 1923              	.LVL135:
 1924              	.LFB172:
 944:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 945:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 946:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  host read channel interrupt
 947:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 948:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 949:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 950:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 951:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval interrupt flag
 952:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 953:bsp/libraries/drivers/src/at32f435_437_usb.c **** uint32_t usb_hch_read_interrupt(otg_global_type *usbx)
 954:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1925              		.loc 1 954 1 is_stmt 1 view -0
 1926              		.cfi_startproc
 1927              		@ args = 0, pretend = 0, frame = 0
 1928              		@ frame_needed = 0, uses_anonymous_args = 0
 1929              		@ link register save eliminated.
 955:bsp/libraries/drivers/src/at32f435_437_usb.c ****   otg_host_type *usb_host = OTG_HOST(usbx);
 1930              		.loc 1 955 3 view .LVU499
 1931              		.loc 1 955 29 is_stmt 0 view .LVU500
 1932 0000 00F58060 		add	r0, r0, #1024
 1933              	.LVL136:
 956:bsp/libraries/drivers/src/at32f435_437_usb.c ****   return usb_host->haint & 0xFFFF;
 1934              		.loc 1 956 3 is_stmt 1 view .LVU501
 1935              		.loc 1 956 18 is_stmt 0 view .LVU502
 1936 0004 4069     		ldr	r0, [r0, #20]
 1937              	.LVL137:
 957:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 1938              		.loc 1 957 1 view .LVU503
 1939 0006 80B2     		uxth	r0, r0
 1940 0008 7047     		bx	lr
 1941              		.cfi_endproc
 1942              	.LFE172:
 1944              		.section	.text.usb_host_disable,"ax",%progbits
 1945              		.align	1
 1946              		.global	usb_host_disable
 1947              		.syntax unified
 1948              		.thumb
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 52


 1949              		.thumb_func
 1951              	usb_host_disable:
 1952              	.LVL138:
 1953              	.LFB173:
 958:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 959:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
 960:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  disable host
 961:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 962:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 963:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 964:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 965:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
 966:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
 967:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_host_disable(otg_global_type *usbx)
 968:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 1954              		.loc 1 968 1 is_stmt 1 view -0
 1955              		.cfi_startproc
 1956              		@ args = 0, pretend = 0, frame = 0
 1957              		@ frame_needed = 0, uses_anonymous_args = 0
 1958              		.loc 1 968 1 is_stmt 0 view .LVU505
 1959 0000 70B5     		push	{r4, r5, r6, lr}
 1960              	.LCFI8:
 1961              		.cfi_def_cfa_offset 16
 1962              		.cfi_offset 4, -16
 1963              		.cfi_offset 5, -12
 1964              		.cfi_offset 6, -8
 1965              		.cfi_offset 14, -4
 1966 0002 0446     		mov	r4, r0
 969:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t i_index = 0, count = 0;
 1967              		.loc 1 969 3 is_stmt 1 view .LVU506
 1968              	.LVL139:
 970:bsp/libraries/drivers/src/at32f435_437_usb.c ****   otg_hchannel_type *hch;
 1969              		.loc 1 970 3 view .LVU507
 971:bsp/libraries/drivers/src/at32f435_437_usb.c ****   otg_host_type *usb_host = OTG_HOST(usbx);
 1970              		.loc 1 971 3 view .LVU508
 1971              		.loc 1 971 29 is_stmt 0 view .LVU509
 1972 0004 00F58065 		add	r5, r0, #1024
 1973              	.LVL140:
 972:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 973:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->gahbcfg_bit.glbintmsk = FALSE;
 1974              		.loc 1 973 3 is_stmt 1 view .LVU510
 1975              		.loc 1 973 31 is_stmt 0 view .LVU511
 1976 0008 8368     		ldr	r3, [r0, #8]
 1977 000a 6FF30003 		bfc	r3, #0, #1
 1978 000e 8360     		str	r3, [r0, #8]
 974:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usb_flush_rx_fifo(usbx);
 1979              		.loc 1 974 3 is_stmt 1 view .LVU512
 1980 0010 FFF7FEFF 		bl	usb_flush_rx_fifo
 1981              	.LVL141:
 975:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usb_flush_tx_fifo(usbx, 0x10);
 1982              		.loc 1 975 3 view .LVU513
 1983 0014 1021     		movs	r1, #16
 1984 0016 2046     		mov	r0, r4
 1985 0018 FFF7FEFF 		bl	usb_flush_tx_fifo
 1986              	.LVL142:
 976:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 977:bsp/libraries/drivers/src/at32f435_437_usb.c ****   for(i_index = 0; i_index < 16; i_index ++)
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 53


 1987              		.loc 1 977 3 view .LVU514
 1988              		.loc 1 977 15 is_stmt 0 view .LVU515
 1989 001c 0022     		movs	r2, #0
 1990              		.loc 1 977 3 view .LVU516
 1991 001e 14E0     		b	.L123
 1992              	.LVL143:
 1993              	.L124:
 978:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 979:bsp/libraries/drivers/src/at32f435_437_usb.c ****     hch = USB_CHL(usbx, i_index);
 1994              		.loc 1 979 5 is_stmt 1 discriminator 3 view .LVU517
 1995              		.loc 1 979 11 is_stmt 0 discriminator 3 view .LVU518
 1996 0020 04EB4213 		add	r3, r4, r2, lsl #5
 1997              	.LVL144:
 980:bsp/libraries/drivers/src/at32f435_437_usb.c ****     hch->hcchar_bit.chdis = TRUE;
 1998              		.loc 1 980 5 is_stmt 1 discriminator 3 view .LVU519
 1999              		.loc 1 980 27 is_stmt 0 discriminator 3 view .LVU520
 2000 0024 D3F80015 		ldr	r1, [r3, #1280]
 2001 0028 41F08041 		orr	r1, r1, #1073741824
 2002 002c C3F80015 		str	r1, [r3, #1280]
 981:bsp/libraries/drivers/src/at32f435_437_usb.c ****     hch->hcchar_bit.chena = FALSE;
 2003              		.loc 1 981 5 is_stmt 1 discriminator 3 view .LVU521
 2004              		.loc 1 981 27 is_stmt 0 discriminator 3 view .LVU522
 2005 0030 D3F80015 		ldr	r1, [r3, #1280]
 2006 0034 6FF3DF71 		bfc	r1, #31, #1
 2007 0038 C3F80015 		str	r1, [r3, #1280]
 982:bsp/libraries/drivers/src/at32f435_437_usb.c ****     hch->hcchar_bit.eptdir = 0;
 2008              		.loc 1 982 5 is_stmt 1 discriminator 3 view .LVU523
 2009              		.loc 1 982 28 is_stmt 0 discriminator 3 view .LVU524
 2010 003c D3F80015 		ldr	r1, [r3, #1280]
 2011 0040 6FF3CF31 		bfc	r1, #15, #1
 2012 0044 C3F80015 		str	r1, [r3, #1280]
 977:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 2013              		.loc 1 977 34 is_stmt 1 discriminator 3 view .LVU525
 977:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 2014              		.loc 1 977 42 is_stmt 0 discriminator 3 view .LVU526
 2015 0048 0132     		adds	r2, r2, #1
 2016              	.LVL145:
 2017              	.L123:
 977:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 2018              		.loc 1 977 20 is_stmt 1 discriminator 1 view .LVU527
 977:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 2019              		.loc 1 977 3 is_stmt 0 discriminator 1 view .LVU528
 2020 004a 0F2A     		cmp	r2, #15
 2021 004c E8D9     		bls	.L124
 969:bsp/libraries/drivers/src/at32f435_437_usb.c ****   otg_hchannel_type *hch;
 2022              		.loc 1 969 25 view .LVU529
 2023 004e 0022     		movs	r2, #0
 2024              	.LVL146:
 983:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 984:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
 985:bsp/libraries/drivers/src/at32f435_437_usb.c ****   for(i_index = 0; i_index < 16; i_index ++)
 2025              		.loc 1 985 15 view .LVU530
 2026 0050 1046     		mov	r0, r2
 2027 0052 00E0     		b	.L125
 2028              	.LVL147:
 2029              	.L126:
 2030              		.loc 1 985 34 is_stmt 1 discriminator 2 view .LVU531
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 54


 2031              		.loc 1 985 42 is_stmt 0 discriminator 2 view .LVU532
 2032 0054 0130     		adds	r0, r0, #1
 2033              	.LVL148:
 2034              	.L125:
 2035              		.loc 1 985 20 is_stmt 1 discriminator 1 view .LVU533
 2036              		.loc 1 985 3 is_stmt 0 discriminator 1 view .LVU534
 2037 0056 0F28     		cmp	r0, #15
 2038 0058 1ED8     		bhi	.L130
 986:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
 987:bsp/libraries/drivers/src/at32f435_437_usb.c ****     hch = USB_CHL(usbx, i_index);
 2039              		.loc 1 987 5 is_stmt 1 view .LVU535
 2040              		.loc 1 987 11 is_stmt 0 view .LVU536
 2041 005a 04EB4013 		add	r3, r4, r0, lsl #5
 2042 005e 03F5A061 		add	r1, r3, #1280
 2043              	.LVL149:
 988:bsp/libraries/drivers/src/at32f435_437_usb.c ****     hch->hcchar_bit.chdis = TRUE;
 2044              		.loc 1 988 5 is_stmt 1 view .LVU537
 2045              		.loc 1 988 27 is_stmt 0 view .LVU538
 2046 0062 D3F80065 		ldr	r6, [r3, #1280]
 2047 0066 46F08046 		orr	r6, r6, #1073741824
 2048 006a C3F80065 		str	r6, [r3, #1280]
 989:bsp/libraries/drivers/src/at32f435_437_usb.c ****     hch->hcchar_bit.chena = TRUE;
 2049              		.loc 1 989 5 is_stmt 1 view .LVU539
 2050              		.loc 1 989 27 is_stmt 0 view .LVU540
 2051 006e D3F80065 		ldr	r6, [r3, #1280]
 2052 0072 46F00046 		orr	r6, r6, #-2147483648
 2053 0076 C3F80065 		str	r6, [r3, #1280]
 990:bsp/libraries/drivers/src/at32f435_437_usb.c ****     hch->hcchar_bit.eptdir = 0;
 2054              		.loc 1 990 5 is_stmt 1 view .LVU541
 2055              		.loc 1 990 28 is_stmt 0 view .LVU542
 2056 007a D3F80065 		ldr	r6, [r3, #1280]
 2057 007e 6FF3CF36 		bfc	r6, #15, #1
 2058 0082 C3F80065 		str	r6, [r3, #1280]
 2059              	.LVL150:
 2060              	.L127:
 991:bsp/libraries/drivers/src/at32f435_437_usb.c ****     do
 2061              		.loc 1 991 5 is_stmt 1 view .LVU543
 992:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 993:bsp/libraries/drivers/src/at32f435_437_usb.c ****       if(count ++ > 1000)
 2062              		.loc 1 993 7 view .LVU544
 2063              		.loc 1 993 9 is_stmt 0 view .LVU545
 2064 0086 B2F57A7F 		cmp	r2, #1000
 2065 008a 02F10102 		add	r2, r2, #1
 2066              	.LVL151:
 2067              		.loc 1 993 9 view .LVU546
 2068 008e E1D8     		bhi	.L126
 994:bsp/libraries/drivers/src/at32f435_437_usb.c ****         break;
 995:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }while(hch->hcchar_bit.chena);
 2069              		.loc 1 995 11 is_stmt 1 view .LVU547
 2070              		.loc 1 995 27 is_stmt 0 view .LVU548
 2071 0090 0B68     		ldr	r3, [r1]
 2072              		.loc 1 995 5 view .LVU549
 2073 0092 002B     		cmp	r3, #0
 2074 0094 F7DB     		blt	.L127
 2075 0096 DDE7     		b	.L126
 2076              	.LVL152:
 2077              	.L130:
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 55


 996:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 997:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usb_host->haint = 0xFFFFFFFF;
 2078              		.loc 1 997 3 is_stmt 1 view .LVU550
 2079              		.loc 1 997 19 is_stmt 0 view .LVU551
 2080 0098 4FF0FF33 		mov	r3, #-1
 2081 009c 6B61     		str	r3, [r5, #20]
 998:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->gintsts = 0xFFFFFFFF;
 2082              		.loc 1 998 3 is_stmt 1 view .LVU552
 2083              		.loc 1 998 17 is_stmt 0 view .LVU553
 2084 009e 6361     		str	r3, [r4, #20]
 999:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usbx->gahbcfg_bit.glbintmsk = TRUE;
 2085              		.loc 1 999 3 is_stmt 1 view .LVU554
 2086              		.loc 1 999 31 is_stmt 0 view .LVU555
 2087 00a0 A368     		ldr	r3, [r4, #8]
 2088 00a2 43F00103 		orr	r3, r3, #1
 2089 00a6 A360     		str	r3, [r4, #8]
1000:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 2090              		.loc 1 1000 1 view .LVU556
 2091 00a8 70BD     		pop	{r4, r5, r6, pc}
 2092              		.loc 1 1000 1 view .LVU557
 2093              		.cfi_endproc
 2094              	.LFE173:
 2096              		.section	.text.usb_hch_halt,"ax",%progbits
 2097              		.align	1
 2098              		.global	usb_hch_halt
 2099              		.syntax unified
 2100              		.thumb
 2101              		.thumb_func
 2103              	usb_hch_halt:
 2104              	.LVL153:
 2105              	.LFB174:
1001:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
1002:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
1003:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  halt channel
1004:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
1005:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
1006:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
1007:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
1008:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  chn: channel number
1009:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
1010:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
1011:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usb_hch_halt(otg_global_type *usbx, uint8_t chn)
1012:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 2106              		.loc 1 1012 1 is_stmt 1 view -0
 2107              		.cfi_startproc
 2108              		@ args = 0, pretend = 0, frame = 0
 2109              		@ frame_needed = 0, uses_anonymous_args = 0
 2110              		@ link register save eliminated.
1013:bsp/libraries/drivers/src/at32f435_437_usb.c ****   uint32_t count = 0;
 2111              		.loc 1 1013 3 view .LVU559
1014:bsp/libraries/drivers/src/at32f435_437_usb.c ****   otg_hchannel_type *usb_chh = USB_CHL(usbx, chn);
 2112              		.loc 1 1014 3 view .LVU560
 2113              		.loc 1 1014 32 is_stmt 0 view .LVU561
 2114 0000 00EB4111 		add	r1, r0, r1, lsl #5
 2115              	.LVL154:
 2116              		.loc 1 1014 32 view .LVU562
 2117 0004 01F5A06C 		add	ip, r1, #1280
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 56


 2118              	.LVL155:
1015:bsp/libraries/drivers/src/at32f435_437_usb.c ****   otg_host_type *usb_host = OTG_HOST(usbx);
 2119              		.loc 1 1015 3 is_stmt 1 view .LVU563
 2120              		.loc 1 1015 29 is_stmt 0 view .LVU564
 2121 0008 00F58062 		add	r2, r0, #1024
 2122              	.LVL156:
1016:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
1017:bsp/libraries/drivers/src/at32f435_437_usb.c ****   /* endpoint type is control or bulk */
1018:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(usb_chh->hcchar_bit.eptype == EPT_CONTROL_TYPE ||
 2123              		.loc 1 1018 3 is_stmt 1 view .LVU565
 2124              		.loc 1 1018 25 is_stmt 0 view .LVU566
 2125 000c D1F80035 		ldr	r3, [r1, #1280]
 2126              		.loc 1 1018 5 view .LVU567
 2127 0010 13F4402F 		tst	r3, #786432
 2128 0014 26D0     		beq	.L132
1019:bsp/libraries/drivers/src/at32f435_437_usb.c ****      usb_chh->hcchar_bit.eptype == EPT_BULK_TYPE)
 2129              		.loc 1 1019 25 discriminator 1 view .LVU568
 2130 0016 D1F80035 		ldr	r3, [r1, #1280]
 2131 001a C3F38143 		ubfx	r3, r3, #18, #2
1018:bsp/libraries/drivers/src/at32f435_437_usb.c ****      usb_chh->hcchar_bit.eptype == EPT_BULK_TYPE)
 2132              		.loc 1 1018 53 discriminator 1 view .LVU569
 2133 001e 022B     		cmp	r3, #2
 2134 0020 20D0     		beq	.L132
1020:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
1021:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usb_chh->hcchar_bit.chdis = TRUE;
1022:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if((usbx->gnptxsts_bit.nptxqspcavail) == 0)
1023:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
1024:bsp/libraries/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = FALSE;
1025:bsp/libraries/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = TRUE;
1026:bsp/libraries/drivers/src/at32f435_437_usb.c ****       do
1027:bsp/libraries/drivers/src/at32f435_437_usb.c ****       {
1028:bsp/libraries/drivers/src/at32f435_437_usb.c ****         if(count ++ > 1000)
1029:bsp/libraries/drivers/src/at32f435_437_usb.c ****           break;
1030:bsp/libraries/drivers/src/at32f435_437_usb.c ****       }while(usb_chh->hcchar_bit.chena == SET);
1031:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
1032:bsp/libraries/drivers/src/at32f435_437_usb.c ****     else
1033:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
1034:bsp/libraries/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = TRUE;
1035:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
1036:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
1037:bsp/libraries/drivers/src/at32f435_437_usb.c ****   else
1038:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
1039:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usb_chh->hcchar_bit.chdis = TRUE;
 2135              		.loc 1 1039 5 is_stmt 1 view .LVU570
 2136              		.loc 1 1039 31 is_stmt 0 view .LVU571
 2137 0022 D1F80035 		ldr	r3, [r1, #1280]
 2138 0026 43F08043 		orr	r3, r3, #1073741824
 2139 002a C1F80035 		str	r3, [r1, #1280]
1040:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if((usb_host->hptxsts_bit.ptxqspcavil) == 0)
 2140              		.loc 1 1040 5 is_stmt 1 view .LVU572
 2141              		.loc 1 1040 30 is_stmt 0 view .LVU573
 2142 002e 1369     		ldr	r3, [r2, #16]
 2143              		.loc 1 1040 7 view .LVU574
 2144 0030 13F47F0F 		tst	r3, #16711680
 2145 0034 3ED1     		bne	.L137
1041:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
1042:bsp/libraries/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = FALSE;
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 57


 2146              		.loc 1 1042 7 is_stmt 1 view .LVU575
 2147              		.loc 1 1042 33 is_stmt 0 view .LVU576
 2148 0036 D1F80035 		ldr	r3, [r1, #1280]
 2149 003a 6FF3DF73 		bfc	r3, #31, #1
 2150 003e C1F80035 		str	r3, [r1, #1280]
1043:bsp/libraries/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = TRUE;
 2151              		.loc 1 1043 7 is_stmt 1 view .LVU577
 2152              		.loc 1 1043 33 is_stmt 0 view .LVU578
 2153 0042 D1F80035 		ldr	r3, [r1, #1280]
 2154 0046 43F00043 		orr	r3, r3, #-2147483648
 2155 004a C1F80035 		str	r3, [r1, #1280]
1013:bsp/libraries/drivers/src/at32f435_437_usb.c ****   otg_hchannel_type *usb_chh = USB_CHL(usbx, chn);
 2156              		.loc 1 1013 12 view .LVU579
 2157 004e 0022     		movs	r2, #0
 2158              	.LVL157:
 2159              	.L138:
1044:bsp/libraries/drivers/src/at32f435_437_usb.c ****       do
 2160              		.loc 1 1044 7 is_stmt 1 view .LVU580
1045:bsp/libraries/drivers/src/at32f435_437_usb.c ****       {
1046:bsp/libraries/drivers/src/at32f435_437_usb.c ****         if(count ++ > 1000)
 2161              		.loc 1 1046 9 view .LVU581
 2162              		.loc 1 1046 11 is_stmt 0 view .LVU582
 2163 0050 B2F57A7F 		cmp	r2, #1000
 2164 0054 02F10102 		add	r2, r2, #1
 2165              	.LVL158:
 2166              		.loc 1 1046 11 view .LVU583
 2167 0058 32D8     		bhi	.L131
1047:bsp/libraries/drivers/src/at32f435_437_usb.c ****           break;
1048:bsp/libraries/drivers/src/at32f435_437_usb.c ****       }while(usb_chh->hcchar_bit.chena == SET);
 2168              		.loc 1 1048 13 is_stmt 1 view .LVU584
 2169              		.loc 1 1048 33 is_stmt 0 view .LVU585
 2170 005a DCF80030 		ldr	r3, [ip]
 2171              		.loc 1 1048 7 view .LVU586
 2172 005e 002B     		cmp	r3, #0
 2173 0060 F6DB     		blt	.L138
 2174 0062 7047     		bx	lr
 2175              	.LVL159:
 2176              	.L132:
1021:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if((usbx->gnptxsts_bit.nptxqspcavail) == 0)
 2177              		.loc 1 1021 5 is_stmt 1 view .LVU587
1021:bsp/libraries/drivers/src/at32f435_437_usb.c ****     if((usbx->gnptxsts_bit.nptxqspcavail) == 0)
 2178              		.loc 1 1021 31 is_stmt 0 view .LVU588
 2179 0064 D1F80035 		ldr	r3, [r1, #1280]
 2180 0068 43F08043 		orr	r3, r3, #1073741824
 2181 006c C1F80035 		str	r3, [r1, #1280]
1022:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 2182              		.loc 1 1022 5 is_stmt 1 view .LVU589
1022:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 2183              		.loc 1 1022 27 is_stmt 0 view .LVU590
 2184 0070 C36A     		ldr	r3, [r0, #44]
1022:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
 2185              		.loc 1 1022 7 view .LVU591
 2186 0072 13F47F0F 		tst	r3, #16711680
 2187 0076 16D1     		bne	.L134
1024:bsp/libraries/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = TRUE;
 2188              		.loc 1 1024 7 is_stmt 1 view .LVU592
1024:bsp/libraries/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = TRUE;
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 58


 2189              		.loc 1 1024 33 is_stmt 0 view .LVU593
 2190 0078 D1F80035 		ldr	r3, [r1, #1280]
 2191 007c 6FF3DF73 		bfc	r3, #31, #1
 2192 0080 C1F80035 		str	r3, [r1, #1280]
1025:bsp/libraries/drivers/src/at32f435_437_usb.c ****       do
 2193              		.loc 1 1025 7 is_stmt 1 view .LVU594
1025:bsp/libraries/drivers/src/at32f435_437_usb.c ****       do
 2194              		.loc 1 1025 33 is_stmt 0 view .LVU595
 2195 0084 D1F80035 		ldr	r3, [r1, #1280]
 2196 0088 43F00043 		orr	r3, r3, #-2147483648
 2197 008c C1F80035 		str	r3, [r1, #1280]
1013:bsp/libraries/drivers/src/at32f435_437_usb.c ****   otg_hchannel_type *usb_chh = USB_CHL(usbx, chn);
 2198              		.loc 1 1013 12 view .LVU596
 2199 0090 0022     		movs	r2, #0
 2200              	.LVL160:
 2201              	.L136:
1026:bsp/libraries/drivers/src/at32f435_437_usb.c ****       {
 2202              		.loc 1 1026 7 is_stmt 1 view .LVU597
1028:bsp/libraries/drivers/src/at32f435_437_usb.c ****           break;
 2203              		.loc 1 1028 9 view .LVU598
1028:bsp/libraries/drivers/src/at32f435_437_usb.c ****           break;
 2204              		.loc 1 1028 11 is_stmt 0 view .LVU599
 2205 0092 B2F57A7F 		cmp	r2, #1000
 2206 0096 02F10102 		add	r2, r2, #1
 2207              	.LVL161:
1028:bsp/libraries/drivers/src/at32f435_437_usb.c ****           break;
 2208              		.loc 1 1028 11 view .LVU600
 2209 009a 11D8     		bhi	.L131
1030:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 2210              		.loc 1 1030 13 is_stmt 1 view .LVU601
1030:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 2211              		.loc 1 1030 33 is_stmt 0 view .LVU602
 2212 009c DCF80030 		ldr	r3, [ip]
1030:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 2213              		.loc 1 1030 7 view .LVU603
 2214 00a0 002B     		cmp	r3, #0
 2215 00a2 F6DB     		blt	.L136
 2216 00a4 7047     		bx	lr
 2217              	.LVL162:
 2218              	.L134:
1034:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 2219              		.loc 1 1034 7 is_stmt 1 view .LVU604
1034:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
 2220              		.loc 1 1034 33 is_stmt 0 view .LVU605
 2221 00a6 D1F80035 		ldr	r3, [r1, #1280]
 2222 00aa 43F00043 		orr	r3, r3, #-2147483648
 2223 00ae C1F80035 		str	r3, [r1, #1280]
 2224 00b2 7047     		bx	lr
 2225              	.L137:
1049:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
1050:bsp/libraries/drivers/src/at32f435_437_usb.c ****     else
1051:bsp/libraries/drivers/src/at32f435_437_usb.c ****     {
1052:bsp/libraries/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = TRUE;
 2226              		.loc 1 1052 7 is_stmt 1 view .LVU606
 2227              		.loc 1 1052 33 is_stmt 0 view .LVU607
 2228 00b4 D1F80035 		ldr	r3, [r1, #1280]
 2229 00b8 43F00043 		orr	r3, r3, #-2147483648
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 59


 2230 00bc C1F80035 		str	r3, [r1, #1280]
 2231              	.LVL163:
 2232              	.L131:
1053:bsp/libraries/drivers/src/at32f435_437_usb.c ****     }
1054:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
1055:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 2233              		.loc 1 1055 1 view .LVU608
 2234 00c0 7047     		bx	lr
 2235              		.cfi_endproc
 2236              	.LFE174:
 2238              		.section	.text.usbh_fsls_clksel,"ax",%progbits
 2239              		.align	1
 2240              		.global	usbh_fsls_clksel
 2241              		.syntax unified
 2242              		.thumb
 2243              		.thumb_func
 2245              	usbh_fsls_clksel:
 2246              	.LVL164:
 2247              	.LFB175:
1056:bsp/libraries/drivers/src/at32f435_437_usb.c **** /**
1057:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @brief  select full or low speed clock
1058:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
1059:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
1060:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
1061:bsp/libraries/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
1062:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @param  clk: clock frequency
1063:bsp/libraries/drivers/src/at32f435_437_usb.c ****   * @retval none
1064:bsp/libraries/drivers/src/at32f435_437_usb.c ****   */
1065:bsp/libraries/drivers/src/at32f435_437_usb.c **** void usbh_fsls_clksel(otg_global_type *usbx, uint8_t clk)
1066:bsp/libraries/drivers/src/at32f435_437_usb.c **** {
 2248              		.loc 1 1066 1 is_stmt 1 view -0
 2249              		.cfi_startproc
 2250              		@ args = 0, pretend = 0, frame = 0
 2251              		@ frame_needed = 0, uses_anonymous_args = 0
 2252              		@ link register save eliminated.
1067:bsp/libraries/drivers/src/at32f435_437_usb.c ****   otg_host_type *usb_host = OTG_HOST(usbx);
 2253              		.loc 1 1067 3 view .LVU610
 2254              		.loc 1 1067 29 is_stmt 0 view .LVU611
 2255 0000 00F58062 		add	r2, r0, #1024
 2256              	.LVL165:
1068:bsp/libraries/drivers/src/at32f435_437_usb.c **** 
1069:bsp/libraries/drivers/src/at32f435_437_usb.c ****   usb_host->hcfg_bit.fslspclksel = clk;
 2257              		.loc 1 1069 3 is_stmt 1 view .LVU612
 2258              		.loc 1 1069 34 is_stmt 0 view .LVU613
 2259 0004 D0F80034 		ldr	r3, [r0, #1024]
 2260 0008 61F30103 		bfi	r3, r1, #0, #2
 2261 000c C0F80034 		str	r3, [r0, #1024]
1070:bsp/libraries/drivers/src/at32f435_437_usb.c ****   if(clk == USB_HCFG_CLK_6M)
 2262              		.loc 1 1070 3 is_stmt 1 view .LVU614
 2263              		.loc 1 1070 5 is_stmt 0 view .LVU615
 2264 0010 0229     		cmp	r1, #2
 2265 0012 03D0     		beq	.L142
1071:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
1072:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usb_host->hfir = 6000;
1073:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
1074:bsp/libraries/drivers/src/at32f435_437_usb.c ****   else
1075:bsp/libraries/drivers/src/at32f435_437_usb.c ****   {
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 60


1076:bsp/libraries/drivers/src/at32f435_437_usb.c ****     usb_host->hfir = 48000;
 2266              		.loc 1 1076 5 is_stmt 1 view .LVU616
 2267              		.loc 1 1076 20 is_stmt 0 view .LVU617
 2268 0014 4BF68033 		movw	r3, #48000
 2269 0018 5360     		str	r3, [r2, #4]
1077:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
1078:bsp/libraries/drivers/src/at32f435_437_usb.c **** }
 2270              		.loc 1 1078 1 view .LVU618
 2271 001a 7047     		bx	lr
 2272              	.L142:
1072:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 2273              		.loc 1 1072 5 is_stmt 1 view .LVU619
1072:bsp/libraries/drivers/src/at32f435_437_usb.c ****   }
 2274              		.loc 1 1072 20 is_stmt 0 view .LVU620
 2275 001c 41F27073 		movw	r3, #6000
 2276 0020 5360     		str	r3, [r2, #4]
 2277 0022 7047     		bx	lr
 2278              		.cfi_endproc
 2279              	.LFE175:
 2281              		.text
 2282              	.Letext0:
 2283              		.file 2 "c:\\at32ide\\platform\\tools\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\mac
 2284              		.file 3 "c:\\at32ide\\platform\\tools\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys
 2285              		.file 4 "bsp/libraries/cmsis/cm4/core_support/cmsis_gcc.h"
 2286              		.file 5 "bsp/libraries/cmsis/cm4/device_support/at32f435_437.h"
 2287              		.file 6 "bsp/libraries/drivers/inc/at32f435_437_usb.h"
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 61


DEFINED SYMBOLS
                            *ABS*:00000000 at32f435_437_usb.c
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:18     .text.usb_global_reset:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:24     .text.usb_global_reset:00000000 usb_global_reset
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:97     .text.usb_global_reset:00000038 $d
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:102    .text.usb_global_init:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:108    .text.usb_global_init:00000000 usb_global_init
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:137    .text.usb_global_select_core:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:143    .text.usb_global_select_core:00000000 usb_global_select_core
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:169    .text.usb_global_select_core:0000000c $d
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:174    .text.usb_flush_tx_fifo:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:180    .text.usb_flush_tx_fifo:00000000 usb_flush_tx_fifo
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:228    .text.usb_flush_tx_fifo:00000028 $d
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:233    .text.usb_flush_rx_fifo:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:239    .text.usb_flush_rx_fifo:00000000 usb_flush_rx_fifo
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:282    .text.usb_flush_rx_fifo:00000020 $d
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:287    .text.usb_global_interrupt_enable:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:293    .text.usb_global_interrupt_enable:00000000 usb_global_interrupt_enable
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:328    .text.usb_global_get_all_interrupt:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:334    .text.usb_global_get_all_interrupt:00000000 usb_global_get_all_interrupt
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:357    .text.usb_global_clear_interrupt:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:363    .text.usb_global_clear_interrupt:00000000 usb_global_clear_interrupt
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:380    .text.usb_interrupt_enable:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:386    .text.usb_interrupt_enable:00000000 usb_interrupt_enable
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:405    .text.usb_interrupt_disable:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:411    .text.usb_interrupt_disable:00000000 usb_interrupt_disable
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:430    .text.usb_set_rx_fifo:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:436    .text.usb_set_rx_fifo:00000000 usb_set_rx_fifo
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:453    .text.usb_set_tx_fifo:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:459    .text.usb_set_tx_fifo:00000000 usb_set_tx_fifo
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:540    .text.usb_global_set_mode:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:546    .text.usb_global_set_mode:00000000 usb_global_set_mode
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:610    .text.usb_global_power_on:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:616    .text.usb_global_power_on:00000000 usb_global_power_on
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:649    .text.usb_stop_phy_clk:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:655    .text.usb_stop_phy_clk:00000000 usb_stop_phy_clk
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:674    .text.usb_open_phy_clk:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:680    .text.usb_open_phy_clk:00000000 usb_open_phy_clk
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:699    .text.usb_write_packet:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:705    .text.usb_write_packet:00000000 usb_write_packet
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:757    .text.usb_read_packet:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:763    .text.usb_read_packet:00000000 usb_read_packet
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:808    .text.usb_ept_open:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:814    .text.usb_ept_open:00000000 usb_ept_open
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1013   .text.usb_ept_close:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1019   .text.usb_ept_close:00000000 usb_ept_close
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1085   .text.usb_ept_stall:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1091   .text.usb_ept_stall:00000000 usb_ept_stall
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1159   .text.usb_ept_clear_stall:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1165   .text.usb_ept_clear_stall:00000000 usb_ept_clear_stall
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1241   .text.usb_get_all_out_interrupt:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1247   .text.usb_get_all_out_interrupt:00000000 usb_get_all_out_interrupt
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1274   .text.usb_get_all_in_interrupt:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1280   .text.usb_get_all_in_interrupt:00000000 usb_get_all_in_interrupt
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1307   .text.usb_ept_out_interrupt:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1313   .text.usb_ept_out_interrupt:00000000 usb_ept_out_interrupt
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1342   .text.usb_ept_in_interrupt:00000000 $t
ARM GAS  C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s 			page 62


C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1348   .text.usb_ept_in_interrupt:00000000 usb_ept_in_interrupt
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1403   .text.usb_ept_out_clear:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1409   .text.usb_ept_out_clear:00000000 usb_ept_out_clear
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1428   .text.usb_ept_in_clear:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1434   .text.usb_ept_in_clear:00000000 usb_ept_in_clear
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1453   .text.usb_set_address:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1459   .text.usb_set_address:00000000 usb_set_address
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1478   .text.usb_ept0_start:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1484   .text.usb_ept0_start:00000000 usb_ept0_start
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1520   .text.usb_ept0_setup:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1526   .text.usb_ept0_setup:00000000 usb_ept0_setup
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1550   .text.usb_connect:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1556   .text.usb_connect:00000000 usb_connect
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1575   .text.usb_disconnect:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1581   .text.usb_disconnect:00000000 usb_disconnect
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1600   .text.usb_remote_wkup_set:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1606   .text.usb_remote_wkup_set:00000000 usb_remote_wkup_set
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1625   .text.usb_remote_wkup_clear:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1631   .text.usb_remote_wkup_clear:00000000 usb_remote_wkup_clear
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1650   .text.usb_suspend_status_get:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1656   .text.usb_suspend_status_get:00000000 usb_suspend_status_get
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1678   .text.usb_port_power_on:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1684   .text.usb_port_power_on:00000000 usb_port_power_on
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1728   .text.usbh_get_frame:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1734   .text.usbh_get_frame:00000000 usbh_get_frame
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1757   .text.usb_hc_enable:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1763   .text.usb_hc_enable:00000000 usb_hc_enable
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1793   .text.usb_hc_enable:0000001c $d
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1797   .text.usb_hc_enable:00000020 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1916   .text.usb_hch_read_interrupt:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1922   .text.usb_hch_read_interrupt:00000000 usb_hch_read_interrupt
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1945   .text.usb_host_disable:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:1951   .text.usb_host_disable:00000000 usb_host_disable
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:2097   .text.usb_hch_halt:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:2103   .text.usb_hch_halt:00000000 usb_hch_halt
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:2239   .text.usbh_fsls_clksel:00000000 $t
C:\Users\user\AppData\Local\Temp\ccQ0FXvb.s:2245   .text.usbh_fsls_clksel:00000000 usbh_fsls_clksel

NO UNDEFINED SYMBOLS
